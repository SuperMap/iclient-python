import httpretty
from typing import List
from iclientpy.rest.api.model import Feature
from iclientpy.dtojson import deserializer
from iclientpy.rest.decorator import HttpMethod
from iclientpy.rest.api.model import *
from iclientpy.rest.apifactory import APIFactory
from .abstractrest import AbstractRESTTestCase
from unittest import mock


class RESTDataTest(AbstractRESTTestCase):
    @classmethod
    def setUpClass(cls):
        cls.init_rest(cls)
        cls.init_apifactory(cls)
        cls.init_api(cls, "data_service", "data-World/rest")

    @mock.patch('builtins.open', mock.mock_open(read_data='1'))
    def test_dataservice(self):
        jsonstr = '{"datasourceNames":["World"],"childUriList":["http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/name/World"],"datasourceCount":1}'
        self.check_api('get_datasources',
                       self.baseuri + "/services/data-World/rest/data/datasources.json", HttpMethod.GET,
                       httpretty.Response(status=200, body=jsonstr))

        jsonstr = '{"datasourceInfo":{"distanceUnit":"METER","coordUnit":"DEGREE","name":"World","description":"testtest","engineType":"UDB","prjCoordSys":{"distanceUnit":"METER","projectionParam":null,"epsgCode":4326,"coordUnit":"DEGREE","name":"Longitude / Latitude Coordinate System---GCS_WGS_1984","projection":null,"type":"PCS_EARTH_LONGITUDE_LATITUDE","coordSystem":{"datum":{"name":"D_WGS_1984","type":"DATUM_WGS_1984","spheroid":{"flatten":0.00335281066474748,"name":"WGS_1984","axis":6378137,"type":"SPHEROID_WGS_1984"}},"unit":"DEGREE","spatialRefType":"SPATIALREF_EARTH_LONGITUDE_LATITUDE","name":"GCS_WGS_1984","type":"GCS_WGS_1984","primeMeridian":{"longitudeValue":0,"name":"Greenwich","type":"PRIMEMERIDIAN_GREENWICH"}}}},"childUriList":["http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets"]}'
        self.check_api('get_datasource',
                       self.baseuri + "/services/data-World/rest/data/datasources/World.json", HttpMethod.GET,
                       httpretty.Response(status=200, body=jsonstr), datasource='World')
        item = PutDatasourceItem()
        item.description = 'testtest'
        self.check_api('put_datasource',
                       self.baseuri + "/services/data-World/rest/data/datasources/World.json", HttpMethod.PUT,
                       httpretty.Response(status=200,
                                          body='{"postResultType":"CreateChild","newResourceID":"/test13","succeed":true,"newResourceLocation":"http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/test13.json"}'),
                       datasource='World', entity=item)
        jsonstr = '{"datasetCount":46,"datasetNames":["LandCover","WorldEarth","worldimage","Night","LandCover_1","LandCover_2","LandCover_3","Ocean","Ocean_Label","Country_Label","Continent_Label","Lakes","Rivers","Grids","continent_T","Ocean_Label_1","Countries","Capitals","OceanLabel","CountryLabel1","CountryLabel","continent_T_1","Ocean_Label_1_1","Capitals_1","Countries_1","Rivers_1","Lakes_1","Ocean_Label_2","continent_T_2","Ocean_Label_1_2","Capitals_2","Countries_2","Rivers_2","Lakes_2","Ocean_Label_3","continent_T_3","Ocean_Label_1_3","Capitals_3","Countries_3","Rivers_3","Lakes_3","Ocean_Label_4","LandCover2","test","test2","test13"],"childUriList":["http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/WorldEarth","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/worldimage","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Night","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Country_Label","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Continent_Label","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Lakes","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Rivers","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Grids","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Countries","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Capitals","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/OceanLabel","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/CountryLabel1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/CountryLabel","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label_1_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Capitals_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Countries_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Rivers_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Lakes_1","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label_1_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Capitals_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Countries_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Rivers_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Lakes_2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label_1_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Capitals_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Countries_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Rivers_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Lakes_3","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/Ocean_Label_4","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/test","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/test2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/test13"]}'
        self.check_api('get_datasets',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets.json", HttpMethod.GET,
                       httpretty.Response(status=200, body=jsonstr), datasource='World')
        entity = CopyDatasetItem()
        entity.srcDatasourceName = 'World'
        entity.srcDatasetName = 'continent_T_1'
        entity.destDatasetName = 'test'
        self.check_api('copy_dataset',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets.json", HttpMethod.POST,
                       httpretty.Response(status=200, body='{"succeed": true}'), datasource='World', entity=entity)
        entity = CreateDatasetItem()
        entity.datasetName = 'test2'
        entity.datasetType = DatasetType.LINE
        entity.isFileCache = False
        self.check_api('create_dataset',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/test2.json",
                       HttpMethod.PUT,
                       httpretty.Response(status=200, body='{"succeed": true}'), datasource='World', dataset='test2',
                       entity=entity)
        jsonstr = '{"childUriList":["http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover/fields","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover/features","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/LandCover/domain"],"supportAttachments":false,"supportFeatureMetadatas":false,"datasetInfo":{"pixelFormat":"BIT32","maxValue":13,"description":"","type":"GRID","blockSize":256,"dataSourceName":"World","tableName":"LandCover","noValue":-9999,"minValue":0,"isReadOnly":false,"encodeType":"SGL","width":5760,"bounds":{"top":90,"left":-180,"bottom":-90,"leftBottom":{"x":-180,"y":-90},"right":180,"rightTop":{"x":180,"y":90}},"name":"LandCover","prjCoordSys":{"distanceUnit":"METER","projectionParam":null,"epsgCode":4326,"coordUnit":"DEGREE","name":"Longitude / Latitude Coordinate System---GCS_WGS_1984","projection":null,"type":"PCS_EARTH_LONGITUDE_LATITUDE","coordSystem":{"datum":{"name":"D_WGS_1984","type":"DATUM_WGS_1984","spheroid":{"flatten":0.00335281066474748,"name":"WGS_1984","axis":6378137,"type":"SPHEROID_WGS_1984"}},"unit":"DEGREE","spatialRefType":"SPATIALREF_EARTH_LONGITUDE_LATITUDE","name":"GCS_WGS_1984","type":"GCS_WGS_1984","primeMeridian":{"longitudeValue":0,"name":"Greenwich","type":"PRIMEMERIDIAN_GREENWICH"}}},"datasourceConnectionInfo":null,"height":2880}}'
        self.check_api('get_dataset',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/test2.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasource='World',
                       dataset='test2')
        entity = PutDatasetItem()
        entity.description = "blablablabla"
        self.check_api('put_dataset',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/test2.json",
                       HttpMethod.PUT, httpretty.Response(status=200, body=jsonstr), datasource='World',
                       dataset='test2', entity=entity)
        self.check_api('delete_dataset',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/test2.json",
                       HttpMethod.DELETE, httpretty.Response(status=200, body='{"succeed": true}'), datasource='World',
                       dataset='test2')
        jsonstr = '[{"fieldNames":["SMID","SMSDRIW","SMSDRIN","SMSDRIE","SMSDRIS","SMUSERID","SMAREA","SMPERIMETER","SMGEOMETRYSIZE","SQKM","SQMI","COLOR_MAP","CAPITAL","COUNTRY","POP_1994","CONTINENT"],"fieldValues":["22","-7.433472633361816","62.35749816894531","-6.38972282409668","61.388328552246094","6","0.25430895154659083","5.743731026651685","4500","1474.69","569.38","5","示例首都a","示例国家a","47067.0","亚洲"],"geometry":{"id":22,"parts":[3],"points":[{"x":-40,"y":60},{"x":-45,"y":62},{"x":-40,"y":55},{"x":-40,"y":60}],"style":null,"type":"REGION"}},{"fieldNames":["SMID","SMSDRIW","SMSDRIN","SMSDRIE","SMSDRIS","SMUSERID","SMAREA","SMPERIMETER","SMGEOMETRYSIZE","SQKM","SQMI","COLOR_MAP","CAPITAL","COUNTRY","POP_1994","CONTINENT"],"fieldValues":["23","-7.433472633361816","62.35749816894531","-6.38972282409668","61.388328552246094","6","0.25430895154659083","5.743731026651685","4500","1474.69","569.38","5","示例首都b","示例国家b","47067.0","亚洲"],"geometry":{"id":23,"parts":[3],"points":[{"x":-40,"y":60},{"x":-45,"y":62},{"x":-40,"y":55},{"x":-40,"y":60}],"style":null,"type":"REGION","prjCoordSys":null}}]'
        features = deserializer(List[Feature])(jsonstr)
        self.check_api('post_features',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/Countries/features.json",
                       HttpMethod.POST, httpretty.Response(status=200, body='{"succeed": true}'),
                       datasourceName='World', datasetName='Countries', entity=features, isUseBatch=True)

        self.check_api('get_features',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/Countries/features.json",
                       HttpMethod.GET, httpretty.Response(status=200,
                                                          body='{"startIndex": 0,"childUriList": ["http://192.168.20.158:8090/iserver/services/data-World/rest/data/feature/0-13-0", "http://192.168.20.158:8090/iserver/services/data-World/rest/data/feature/0-13-1"], "geometryType":"REGION","featureCount": 247}'),
                       datasourceName='World', datasetName='Countries', fromIndex=3, toIndex=5)
        jsonstr = '{"fieldNames":["SMID","SMSDRIW","SMSDRIN","SMSDRIE","SMSDRIS","SMUSERID","SMGEOMETRYSIZE"],"geometry":{"texts":["北美洲"],"center":{"x":-102.51862991556618,"y":49.37313255456132},"parts":null,"style":null,"prjCoordSys":null,"textStyle":{"italicAngle":0,"shadow":false,"sizeFixed":false,"underline":false,"rotation":0,"backOpaque":false,"bold":false,"align":"MIDDLECENTER","foreColor":{"red":127,"green":127,"blue":127,"alpha":0},"italic":false,"strikeout":false,"fontName":"文泉驿微米黑","outline":true,"borderSpacingWidth":4,"backColor":{"red":255,"green":255,"blue":255,"alpha":0},"outlineWidth":1,"fontHeight":7.604914623695876,"fontWidth":0,"opaqueRate":100,"stringAlignment":"LEFT","fontScale":1,"fontWeight":0},"id":1,"type":"TEXT","rotations":[0],"partTopo":null,"points":[{"x":-102.51862991556618,"y":49.37313255456132}]},"fieldValues":["1","-114.38229","53.17559","-90.65496","45.570675","0","107"],"ID":1}'
        self.check_api('get_feature',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/features/1.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr),
                       datasourceName='World', datasetName='continent_T', featureId='1')
        entity = PutFeatureItem()
        entity.geometry = Geometry()
        entity.fieldNames = []
        entity.fieldValues = []
        self.check_api('put_feature',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/features/1.json",
                       HttpMethod.PUT, httpretty.Response(status=200, body='{"succeed": true}'),
                       datasourceName='World', datasetName='continent_T', featureId='1', entity='entity')
        self.check_api('delete_feature',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/features/1.json",
                       HttpMethod.DELETE, httpretty.Response(status=200, body='{"succeed": true}'),
                       datasourceName='World', datasetName='continent_T', featureId='1')
        self.check_api('get_attachments',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/features/1/attachments.json",
                       HttpMethod.GET, httpretty.Response(status=200,
                                                          body='[{"size":28002,"name":"World.bru","id":1,"contentType":"application/octet-stream"}]'),
                       datasourceName='World', datasetName='continent_T', featureId='1')
        with open('./World.zip', 'rb') as fileb:
            self.check_api('post_attachments',
                           self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/features/1/attachments.json",
                           HttpMethod.POST, httpretty.Response(status=200,
                                                               body='[{"size":28002,"name":"World.bru","id":1,"contentType":"application/octet-stream"}]'),
                           datasourceName='World', datasetName='continent_T', featureId='1', file=fileb)
        self.check_api('get_metadata',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/features/1/metadata.json",
                       HttpMethod.GET, httpretty.Response(status=200,
                                                          body='{"createTime":1436945830474,"createUser":"admin","lastEditTime":1436945830474,"lastEditUser":"admin"}'),
                       datasourceName='World', datasetName='continent_T', featureId='1')

        jsonstr = '{"fieldNames":["SMID","SMSDRIW","SMSDRIN","SMSDRIE","SMSDRIS","SMUSERID","SMGEOMETRYSIZE"],"geometry":{"texts":["北美洲"],"center":{"x":-102.51862991556618,"y":49.37313255456132},"parts":null,"style":null,"prjCoordSys":null,"textStyle":{"italicAngle":0,"shadow":false,"sizeFixed":false,"underline":false,"rotation":0,"backOpaque":false,"bold":false,"align":"MIDDLECENTER","foreColor":{"red":127,"green":127,"blue":127,"alpha":0},"italic":false,"strikeout":false,"fontName":"文泉驿微米黑","outline":true,"borderSpacingWidth":4,"backColor":{"red":255,"green":255,"blue":255,"alpha":0},"outlineWidth":1,"fontHeight":7.604914623695876,"fontWidth":0,"opaqueRate":100,"stringAlignment":"LEFT","fontScale":1,"fontWeight":0},"id":1,"type":"TEXT","rotations":[0],"partTopo":null,"points":[{"x":-102.51862991556618,"y":49.37313255456132}]},"fieldValues":["1","-114.38229","53.17559","-90.65496","45.570675","0","107"],"ID":1}'
        self.check_api('get_feature_by_url',
                       'http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0.json',
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr),
                       feature_url='http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0')
        entity = PutFeatureItem()
        entity.geometry = Geometry()
        entity.fieldNames = []
        entity.fieldValues = []
        self.check_api('put_feature_by_url',
                       'http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0.json',
                       HttpMethod.PUT, httpretty.Response(status=200, body='{"succeed": true}'),
                       feature_url='http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0',
                       entity='entity')
        self.check_api('delete_feature_by_url',
                       'http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0.json',
                       HttpMethod.DELETE, httpretty.Response(status=200, body='{"succeed": true}'),
                       feature_url='http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0')
        self.check_api('get_attachments_by_url',
                       'http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0/attachments.json',
                       HttpMethod.GET, httpretty.Response(status=200,
                                                          body='[{"size":28002,"name":"World.bru","id":1,"contentType":"application/octet-stream"}]'),
                       feature_url='http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0')
        with open('./World.zip', 'rb') as filea:
            self.check_api('post_attachments_by_url',
                           'http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0/attachments.json',
                           HttpMethod.POST, httpretty.Response(status=200,
                                                               body='[{"size":28002,"name":"World.bru","id":1,"contentType":"application/octet-stream"}]'),
                           feature_url='http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0',
                           file=filea)
        self.check_api('get_metadata_by_url',
                       'http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0/metadata.json',
                       HttpMethod.GET, httpretty.Response(status=200,
                                                          body='{"createTime":1436945830474,"createUser":"admin","lastEditTime":1436945830474,"lastEditUser":"admin"}'),
                       feature_url='http://192.168.20.182:8090/iserver/services/data-World/rest/data/feature/0-19-0')
        jsonstr = '[{"isRequired":true,"defaultValue":"","name":"SmID","caption":"SmID","type":"INT32","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":true},{"isRequired":true,"defaultValue":"0","name":"SmSdriW","caption":"SmSdriW","type":"SINGLE","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":true},{"isRequired":true,"defaultValue":"0","name":"SmSdriN","caption":"SmSdriN","type":"SINGLE","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":true},{"isRequired":true,"defaultValue":"0","name":"SmSdriE","caption":"SmSdriE","type":"SINGLE","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":true},{"isRequired":true,"defaultValue":"0","name":"SmSdriS","caption":"SmSdriS","type":"SINGLE","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":true},{"isRequired":true,"defaultValue":"0","name":"SmUserID","caption":"SmUserID","type":"INT32","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":false},{"isRequired":false,"defaultValue":"0","name":"SmGeometrySize","caption":"SmGeometrySize","type":"INT32","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":true}]'
        self.check_api('get_fields',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/fields.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T')
        entity = FieldInfo()
        entity.type = FieldType.TEXT
        entity.name = "test"
        entity.caption = "test"
        entity.isRequired = True
        entity.defaultValue = 'default'
        entity.maxLength = 20
        entity.isZeroLengthAllowed = True
        entity.isSystemField = False
        self.check_api('post_fields',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/fields.json",
                       HttpMethod.POST, httpretty.Response(status=200, body='{"succeed": true}'),
                       datasourceName='World',
                       datasetName='continent_T', entity=entity)
        jsonstr = '{"childUriList":["http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/SmID/MAX","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/SmID/MIN","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/SmID/AVERAGE","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/SmID/STDDEVIATION","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/SmID/SUM","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/SmID/VARIANCE"],"fieldInfo":{"isRequired":true,"defaultValue":"","name":"SmID","caption":"SmID","type":"INT32","maxLength":4,"isZeroLengthAllowed":true,"isSystemField":true}}'
        self.check_api('get_field',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/smid.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T', field='smid')
        self.check_api('put_field',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/smid.json",
                       HttpMethod.PUT, httpretty.Response(status=200, body='{"succeed": true}'), datasourceName='World',
                       datasetName='continent_T', field='smid', entity=entity)
        self.check_api('delete_field',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/smid.json",
                       HttpMethod.DELETE, httpretty.Response(status=200, body='{"succeed": true}'),
                       datasourceName='World', datasetName='continent_T', field='smid')
        self.check_api('get_statistic',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/fields/smid/MAX.json",
                       HttpMethod.GET, httpretty.Response(status=200, body='{"result":7,"mode":"MAX"}'),
                       datasourceName='World', datasetName='continent_T', field='smid',
                       statisticMode=StatisticMode.MAX.value)
        jsonstr = '{"codeCount":11,"codeInfos":[{"value":"城市","valueType":"TEXT"},{"value":"旱地","valueType":"TEXT"},{"value":"水浇地","valueType":"TEXT"},{"value":"水田","valueType":"TEXT"},{"value":"沙漠","valueType":"TEXT"},{"value":"沼泽","valueType":"TEXT"},{"value":"湖泊水库","valueType":"TEXT"},{"value":"灌丛","valueType":"TEXT"},{"value":"用材林","valueType":"TEXT"},{"value":"经济林","valueType":"TEXT"},{"value":"草地","valueType":"TEXT"}],"description":"","fieldName":"LANDTYPE","name":"LANDTYPE","type":"CODE","valueType":"TEXT"},{"description":"","fieldName":"Area","name":"Area","rangeCount":1,"rangeInfos":[{"max":"999999.0","min":"0.0","type":"CLOSE_OPEN","valueType":"SINGLE"}],"type":"RANGE","valueType":"SINGLE"}]'
        self.check_api('get_domain',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/domain.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T')
        jsonstr = '{"valuesCount":256,"values":[[{"column":4678,"row":869,"value":10,"centerPoint":{"x":112.40625,"y":35.65625}},{"column":4679,"row":869,"value":10,"centerPoint":{"x":112.46875,"y":35.65625}},{"column":4680,"row":869,"value":10,"centerPoint":{"x":112.53125,"y":35.65625}},{"column":4681,"row":869,"value":10,"centerPoint":{"x":112.59375,"y":35.65625}},{"column":4682,"row":869,"value":10,"centerPoint":{"x":112.65625,"y":35.65625}},{"column":4683,"row":869,"value":10,"centerPoint":{"x":112.71875,"y":35.65625}},{"column":4684,"row":869,"value":11,"centerPoint":{"x":112.78125,"y":35.65625}},{"column":4685,"row":869,"value":11,"centerPoint":{"x":112.84375,"y":35.65625}},{"column":4686,"row":869,"value":11,"centerPoint":{"x":112.90625,"y":35.65625}},{"column":4687,"row":869,"value":11,"centerPoint":{"x":112.96875,"y":35.65625}},{"column":4688,"row":869,"value":11,"centerPoint":{"x":113.03125,"y":35.65625}},{"column":4689,"row":869,"value":11,"centerPoint":{"x":113.09375,"y":35.65625}},{"column":4690,"row":869,"value":11,"centerPoint":{"x":113.15625,"y":35.65625}},{"column":4691,"row":869,"value":1,"centerPoint":{"x":113.21875,"y":35.65625}},{"column":4692,"row":869,"value":1,"centerPoint":{"x":113.28125,"y":35.65625}},{"column":4693,"row":869,"value":1,"centerPoint":{"x":113.34375,"y":35.65625}}],[{"column":4678,"row":870,"value":10,"centerPoint":{"x":112.40625,"y":35.59375}},{"column":4679,"row":870,"value":10,"centerPoint":{"x":112.46875,"y":35.59375}},{"column":4680,"row":870,"value":10,"centerPoint":{"x":112.53125,"y":35.59375}},{"column":4681,"row":870,"value":10,"centerPoint":{"x":112.59375,"y":35.59375}},{"column":4682,"row":870,"value":10,"centerPoint":{"x":112.65625,"y":35.59375}},{"column":4683,"row":870,"value":11,"centerPoint":{"x":112.71875,"y":35.59375}},{"column":4684,"row":870,"value":11,"centerPoint":{"x":112.78125,"y":35.59375}},{"column":4685,"row":870,"value":11,"centerPoint":{"x":112.84375,"y":35.59375}},{"column":4686,"row":870,"value":11,"centerPoint":{"x":112.90625,"y":35.59375}},{"column":4687,"row":870,"value":11,"centerPoint":{"x":112.96875,"y":35.59375}},{"column":4688,"row":870,"value":11,"centerPoint":{"x":113.03125,"y":35.59375}},{"column":4689,"row":870,"value":11,"centerPoint":{"x":113.09375,"y":35.59375}},{"column":4690,"row":870,"value":1,"centerPoint":{"x":113.15625,"y":35.59375}},{"column":4691,"row":870,"value":1,"centerPoint":{"x":113.21875,"y":35.59375}},{"column":4692,"row":870,"value":1,"centerPoint":{"x":113.28125,"y":35.59375}},{"column":4693,"row":870,"value":1,"centerPoint":{"x":113.34375,"y":35.59375}}],[{"column":4678,"row":871,"value":10,"centerPoint":{"x":112.40625,"y":35.53125}},{"column":4679,"row":871,"value":10,"centerPoint":{"x":112.46875,"y":35.53125}},{"column":4680,"row":871,"value":10,"centerPoint":{"x":112.53125,"y":35.53125}},{"column":4681,"row":871,"value":10,"centerPoint":{"x":112.59375,"y":35.53125}},{"column":4682,"row":871,"value":11,"centerPoint":{"x":112.65625,"y":35.53125}},{"column":4683,"row":871,"value":11,"centerPoint":{"x":112.71875,"y":35.53125}},{"column":4684,"row":871,"value":11,"centerPoint":{"x":112.78125,"y":35.53125}},{"column":4685,"row":871,"value":10,"centerPoint":{"x":112.84375,"y":35.53125}},{"column":4686,"row":871,"value":11,"centerPoint":{"x":112.90625,"y":35.53125}},{"column":4687,"row":871,"value":11,"centerPoint":{"x":112.96875,"y":35.53125}},{"column":4688,"row":871,"value":11,"centerPoint":{"x":113.03125,"y":35.53125}},{"column":4689,"row":871,"value":11,"centerPoint":{"x":113.09375,"y":35.53125}},{"column":4690,"row":871,"value":1,"centerPoint":{"x":113.15625,"y":35.53125}},{"column":4691,"row":871,"value":1,"centerPoint":{"x":113.21875,"y":35.53125}},{"column":4692,"row":871,"value":1,"centerPoint":{"x":113.28125,"y":35.53125}},{"column":4693,"row":871,"value":1,"centerPoint":{"x":113.34375,"y":35.53125}}],[{"column":4678,"row":872,"value":10,"centerPoint":{"x":112.40625,"y":35.46875}},{"column":4679,"row":872,"value":11,"centerPoint":{"x":112.46875,"y":35.46875}},{"column":4680,"row":872,"value":11,"centerPoint":{"x":112.53125,"y":35.46875}},{"column":4681,"row":872,"value":11,"centerPoint":{"x":112.59375,"y":35.46875}},{"column":4682,"row":872,"value":11,"centerPoint":{"x":112.65625,"y":35.46875}},{"column":4683,"row":872,"value":10,"centerPoint":{"x":112.71875,"y":35.46875}},{"column":4684,"row":872,"value":10,"centerPoint":{"x":112.78125,"y":35.46875}},{"column":4685,"row":872,"value":10,"centerPoint":{"x":112.84375,"y":35.46875}},{"column":4686,"row":872,"value":11,"centerPoint":{"x":112.90625,"y":35.46875}},{"column":4687,"row":872,"value":11,"centerPoint":{"x":112.96875,"y":35.46875}},{"column":4688,"row":872,"value":11,"centerPoint":{"x":113.03125,"y":35.46875}},{"column":4689,"row":872,"value":1,"centerPoint":{"x":113.09375,"y":35.46875}},{"column":4690,"row":872,"value":1,"centerPoint":{"x":113.15625,"y":35.46875}},{"column":4691,"row":872,"value":11,"centerPoint":{"x":113.21875,"y":35.46875}},{"column":4692,"row":872,"value":11,"centerPoint":{"x":113.28125,"y":35.46875}},{"column":4693,"row":872,"value":11,"centerPoint":{"x":113.34375,"y":35.46875}}],[{"column":4678,"row":873,"value":11,"centerPoint":{"x":112.40625,"y":35.40625}},{"column":4679,"row":873,"value":11,"centerPoint":{"x":112.46875,"y":35.40625}},{"column":4680,"row":873,"value":11,"centerPoint":{"x":112.53125,"y":35.40625}},{"column":4681,"row":873,"value":11,"centerPoint":{"x":112.59375,"y":35.40625}},{"column":4682,"row":873,"value":10,"centerPoint":{"x":112.65625,"y":35.40625}},{"column":4683,"row":873,"value":10,"centerPoint":{"x":112.71875,"y":35.40625}},{"column":4684,"row":873,"value":10,"centerPoint":{"x":112.78125,"y":35.40625}},{"column":4685,"row":873,"value":11,"centerPoint":{"x":112.84375,"y":35.40625}},{"column":4686,"row":873,"value":11,"centerPoint":{"x":112.90625,"y":35.40625}},{"column":4687,"row":873,"value":10,"centerPoint":{"x":112.96875,"y":35.40625}},{"column":4688,"row":873,"value":10,"centerPoint":{"x":113.03125,"y":35.40625}},{"column":4689,"row":873,"value":10,"centerPoint":{"x":113.09375,"y":35.40625}},{"column":4690,"row":873,"value":11,"centerPoint":{"x":113.15625,"y":35.40625}},{"column":4691,"row":873,"value":11,"centerPoint":{"x":113.21875,"y":35.40625}},{"column":4692,"row":873,"value":10,"centerPoint":{"x":113.28125,"y":35.40625}},{"column":4693,"row":873,"value":10,"centerPoint":{"x":113.34375,"y":35.40625}}],[{"column":4678,"row":874,"value":11,"centerPoint":{"x":112.40625,"y":35.34375}},{"column":4679,"row":874,"value":11,"centerPoint":{"x":112.46875,"y":35.34375}},{"column":4680,"row":874,"value":11,"centerPoint":{"x":112.53125,"y":35.34375}},{"column":4681,"row":874,"value":11,"centerPoint":{"x":112.59375,"y":35.34375}},{"column":4682,"row":874,"value":11,"centerPoint":{"x":112.65625,"y":35.34375}},{"column":4683,"row":874,"value":11,"centerPoint":{"x":112.71875,"y":35.34375}},{"column":4684,"row":874,"value":11,"centerPoint":{"x":112.78125,"y":35.34375}},{"column":4685,"row":874,"value":11,"centerPoint":{"x":112.84375,"y":35.34375}},{"column":4686,"row":874,"value":11,"centerPoint":{"x":112.90625,"y":35.34375}},{"column":4687,"row":874,"value":11,"centerPoint":{"x":112.96875,"y":35.34375}},{"column":4688,"row":874,"value":11,"centerPoint":{"x":113.03125,"y":35.34375}},{"column":4689,"row":874,"value":11,"centerPoint":{"x":113.09375,"y":35.34375}},{"column":4690,"row":874,"value":11,"centerPoint":{"x":113.15625,"y":35.34375}},{"column":4691,"row":874,"value":10,"centerPoint":{"x":113.21875,"y":35.34375}},{"column":4692,"row":874,"value":10,"centerPoint":{"x":113.28125,"y":35.34375}},{"column":4693,"row":874,"value":11,"centerPoint":{"x":113.34375,"y":35.34375}}],[{"column":4678,"row":875,"value":1,"centerPoint":{"x":112.40625,"y":35.28125}},{"column":4679,"row":875,"value":11,"centerPoint":{"x":112.46875,"y":35.28125}},{"column":4680,"row":875,"value":11,"centerPoint":{"x":112.53125,"y":35.28125}},{"column":4681,"row":875,"value":11,"centerPoint":{"x":112.59375,"y":35.28125}},{"column":4682,"row":875,"value":11,"centerPoint":{"x":112.65625,"y":35.28125}},{"column":4683,"row":875,"value":11,"centerPoint":{"x":112.71875,"y":35.28125}},{"column":4684,"row":875,"value":11,"centerPoint":{"x":112.78125,"y":35.28125}},{"column":4685,"row":875,"value":11,"centerPoint":{"x":112.84375,"y":35.28125}},{"column":4686,"row":875,"value":11,"centerPoint":{"x":112.90625,"y":35.28125}},{"column":4687,"row":875,"value":11,"centerPoint":{"x":112.96875,"y":35.28125}},{"column":4688,"row":875,"value":11,"centerPoint":{"x":113.03125,"y":35.28125}},{"column":4689,"row":875,"value":11,"centerPoint":{"x":113.09375,"y":35.28125}},{"column":4690,"row":875,"value":11,"centerPoint":{"x":113.15625,"y":35.28125}},{"column":4691,"row":875,"value":11,"centerPoint":{"x":113.21875,"y":35.28125}},{"column":4692,"row":875,"value":11,"centerPoint":{"x":113.28125,"y":35.28125}},{"column":4693,"row":875,"value":11,"centerPoint":{"x":113.34375,"y":35.28125}}],[{"column":4678,"row":876,"value":11,"centerPoint":{"x":112.40625,"y":35.21875}},{"column":4679,"row":876,"value":11,"centerPoint":{"x":112.46875,"y":35.21875}},{"column":4680,"row":876,"value":11,"centerPoint":{"x":112.53125,"y":35.21875}},{"column":4681,"row":876,"value":11,"centerPoint":{"x":112.59375,"y":35.21875}},{"column":4682,"row":876,"value":11,"centerPoint":{"x":112.65625,"y":35.21875}},{"column":4683,"row":876,"value":11,"centerPoint":{"x":112.71875,"y":35.21875}},{"column":4684,"row":876,"value":11,"centerPoint":{"x":112.78125,"y":35.21875}},{"column":4685,"row":876,"value":11,"centerPoint":{"x":112.84375,"y":35.21875}},{"column":4686,"row":876,"value":11,"centerPoint":{"x":112.90625,"y":35.21875}},{"column":4687,"row":876,"value":11,"centerPoint":{"x":112.96875,"y":35.21875}},{"column":4688,"row":876,"value":11,"centerPoint":{"x":113.03125,"y":35.21875}},{"column":4689,"row":876,"value":11,"centerPoint":{"x":113.09375,"y":35.21875}},{"column":4690,"row":876,"value":11,"centerPoint":{"x":113.15625,"y":35.21875}},{"column":4691,"row":876,"value":11,"centerPoint":{"x":113.21875,"y":35.21875}},{"column":4692,"row":876,"value":11,"centerPoint":{"x":113.28125,"y":35.21875}},{"column":4693,"row":876,"value":11,"centerPoint":{"x":113.34375,"y":35.21875}}],[{"column":4678,"row":877,"value":11,"centerPoint":{"x":112.40625,"y":35.15625}},{"column":4679,"row":877,"value":11,"centerPoint":{"x":112.46875,"y":35.15625}},{"column":4680,"row":877,"value":11,"centerPoint":{"x":112.53125,"y":35.15625}},{"column":4681,"row":877,"value":11,"centerPoint":{"x":112.59375,"y":35.15625}},{"column":4682,"row":877,"value":11,"centerPoint":{"x":112.65625,"y":35.15625}},{"column":4683,"row":877,"value":11,"centerPoint":{"x":112.71875,"y":35.15625}},{"column":4684,"row":877,"value":11,"centerPoint":{"x":112.78125,"y":35.15625}},{"column":4685,"row":877,"value":11,"centerPoint":{"x":112.84375,"y":35.15625}},{"column":4686,"row":877,"value":11,"centerPoint":{"x":112.90625,"y":35.15625}},{"column":4687,"row":877,"value":11,"centerPoint":{"x":112.96875,"y":35.15625}},{"column":4688,"row":877,"value":11,"centerPoint":{"x":113.03125,"y":35.15625}},{"column":4689,"row":877,"value":11,"centerPoint":{"x":113.09375,"y":35.15625}},{"column":4690,"row":877,"value":11,"centerPoint":{"x":113.15625,"y":35.15625}},{"column":4691,"row":877,"value":11,"centerPoint":{"x":113.21875,"y":35.15625}},{"column":4692,"row":877,"value":11,"centerPoint":{"x":113.28125,"y":35.15625}},{"column":4693,"row":877,"value":11,"centerPoint":{"x":113.34375,"y":35.15625}}],[{"column":4678,"row":878,"value":11,"centerPoint":{"x":112.40625,"y":35.09375}},{"column":4679,"row":878,"value":11,"centerPoint":{"x":112.46875,"y":35.09375}},{"column":4680,"row":878,"value":11,"centerPoint":{"x":112.53125,"y":35.09375}},{"column":4681,"row":878,"value":11,"centerPoint":{"x":112.59375,"y":35.09375}},{"column":4682,"row":878,"value":11,"centerPoint":{"x":112.65625,"y":35.09375}},{"column":4683,"row":878,"value":11,"centerPoint":{"x":112.71875,"y":35.09375}},{"column":4684,"row":878,"value":11,"centerPoint":{"x":112.78125,"y":35.09375}},{"column":4685,"row":878,"value":11,"centerPoint":{"x":112.84375,"y":35.09375}},{"column":4686,"row":878,"value":11,"centerPoint":{"x":112.90625,"y":35.09375}},{"column":4687,"row":878,"value":11,"centerPoint":{"x":112.96875,"y":35.09375}},{"column":4688,"row":878,"value":11,"centerPoint":{"x":113.03125,"y":35.09375}},{"column":4689,"row":878,"value":11,"centerPoint":{"x":113.09375,"y":35.09375}},{"column":4690,"row":878,"value":11,"centerPoint":{"x":113.15625,"y":35.09375}},{"column":4691,"row":878,"value":11,"centerPoint":{"x":113.21875,"y":35.09375}},{"column":4692,"row":878,"value":11,"centerPoint":{"x":113.28125,"y":35.09375}},{"column":4693,"row":878,"value":11,"centerPoint":{"x":113.34375,"y":35.09375}}],[{"column":4678,"row":879,"value":11,"centerPoint":{"x":112.40625,"y":35.03125}},{"column":4679,"row":879,"value":11,"centerPoint":{"x":112.46875,"y":35.03125}},{"column":4680,"row":879,"value":11,"centerPoint":{"x":112.53125,"y":35.03125}},{"column":4681,"row":879,"value":11,"centerPoint":{"x":112.59375,"y":35.03125}},{"column":4682,"row":879,"value":11,"centerPoint":{"x":112.65625,"y":35.03125}},{"column":4683,"row":879,"value":11,"centerPoint":{"x":112.71875,"y":35.03125}},{"column":4684,"row":879,"value":11,"centerPoint":{"x":112.78125,"y":35.03125}},{"column":4685,"row":879,"value":11,"centerPoint":{"x":112.84375,"y":35.03125}},{"column":4686,"row":879,"value":11,"centerPoint":{"x":112.90625,"y":35.03125}},{"column":4687,"row":879,"value":11,"centerPoint":{"x":112.96875,"y":35.03125}},{"column":4688,"row":879,"value":11,"centerPoint":{"x":113.03125,"y":35.03125}},{"column":4689,"row":879,"value":11,"centerPoint":{"x":113.09375,"y":35.03125}},{"column":4690,"row":879,"value":11,"centerPoint":{"x":113.15625,"y":35.03125}},{"column":4691,"row":879,"value":11,"centerPoint":{"x":113.21875,"y":35.03125}},{"column":4692,"row":879,"value":11,"centerPoint":{"x":113.28125,"y":35.03125}},{"column":4693,"row":879,"value":11,"centerPoint":{"x":113.34375,"y":35.03125}}],[{"column":4678,"row":880,"value":10,"centerPoint":{"x":112.40625,"y":34.96875}},{"column":4679,"row":880,"value":10,"centerPoint":{"x":112.46875,"y":34.96875}},{"column":4680,"row":880,"value":11,"centerPoint":{"x":112.53125,"y":34.96875}},{"column":4681,"row":880,"value":11,"centerPoint":{"x":112.59375,"y":34.96875}},{"column":4682,"row":880,"value":11,"centerPoint":{"x":112.65625,"y":34.96875}},{"column":4683,"row":880,"value":11,"centerPoint":{"x":112.71875,"y":34.96875}},{"column":4684,"row":880,"value":11,"centerPoint":{"x":112.78125,"y":34.96875}},{"column":4685,"row":880,"value":11,"centerPoint":{"x":112.84375,"y":34.96875}},{"column":4686,"row":880,"value":11,"centerPoint":{"x":112.90625,"y":34.96875}},{"column":4687,"row":880,"value":11,"centerPoint":{"x":112.96875,"y":34.96875}},{"column":4688,"row":880,"value":11,"centerPoint":{"x":113.03125,"y":34.96875}},{"column":4689,"row":880,"value":11,"centerPoint":{"x":113.09375,"y":34.96875}},{"column":4690,"row":880,"value":11,"centerPoint":{"x":113.15625,"y":34.96875}},{"column":4691,"row":880,"value":11,"centerPoint":{"x":113.21875,"y":34.96875}},{"column":4692,"row":880,"value":10,"centerPoint":{"x":113.28125,"y":34.96875}},{"column":4693,"row":880,"value":10,"centerPoint":{"x":113.34375,"y":34.96875}}],[{"column":4678,"row":881,"value":11,"centerPoint":{"x":112.40625,"y":34.90625}},{"column":4679,"row":881,"value":11,"centerPoint":{"x":112.46875,"y":34.90625}},{"column":4680,"row":881,"value":11,"centerPoint":{"x":112.53125,"y":34.90625}},{"column":4681,"row":881,"value":11,"centerPoint":{"x":112.59375,"y":34.90625}},{"column":4682,"row":881,"value":11,"centerPoint":{"x":112.65625,"y":34.90625}},{"column":4683,"row":881,"value":11,"centerPoint":{"x":112.71875,"y":34.90625}},{"column":4684,"row":881,"value":11,"centerPoint":{"x":112.78125,"y":34.90625}},{"column":4685,"row":881,"value":11,"centerPoint":{"x":112.84375,"y":34.90625}},{"column":4686,"row":881,"value":11,"centerPoint":{"x":112.90625,"y":34.90625}},{"column":4687,"row":881,"value":11,"centerPoint":{"x":112.96875,"y":34.90625}},{"column":4688,"row":881,"value":11,"centerPoint":{"x":113.03125,"y":34.90625}},{"column":4689,"row":881,"value":11,"centerPoint":{"x":113.09375,"y":34.90625}},{"column":4690,"row":881,"value":11,"centerPoint":{"x":113.15625,"y":34.90625}},{"column":4691,"row":881,"value":11,"centerPoint":{"x":113.21875,"y":34.90625}},{"column":4692,"row":881,"value":11,"centerPoint":{"x":113.28125,"y":34.90625}},{"column":4693,"row":881,"value":11,"centerPoint":{"x":113.34375,"y":34.90625}}],[{"column":4678,"row":882,"value":10,"centerPoint":{"x":112.40625,"y":34.84375}},{"column":4679,"row":882,"value":11,"centerPoint":{"x":112.46875,"y":34.84375}},{"column":4680,"row":882,"value":11,"centerPoint":{"x":112.53125,"y":34.84375}},{"column":4681,"row":882,"value":11,"centerPoint":{"x":112.59375,"y":34.84375}},{"column":4682,"row":882,"value":11,"centerPoint":{"x":112.65625,"y":34.84375}},{"column":4683,"row":882,"value":11,"centerPoint":{"x":112.71875,"y":34.84375}},{"column":4684,"row":882,"value":11,"centerPoint":{"x":112.78125,"y":34.84375}},{"column":4685,"row":882,"value":11,"centerPoint":{"x":112.84375,"y":34.84375}},{"column":4686,"row":882,"value":11,"centerPoint":{"x":112.90625,"y":34.84375}},{"column":4687,"row":882,"value":11,"centerPoint":{"x":112.96875,"y":34.84375}},{"column":4688,"row":882,"value":11,"centerPoint":{"x":113.03125,"y":34.84375}},{"column":4689,"row":882,"value":10,"centerPoint":{"x":113.09375,"y":34.84375}},{"column":4690,"row":882,"value":11,"centerPoint":{"x":113.15625,"y":34.84375}},{"column":4691,"row":882,"value":11,"centerPoint":{"x":113.21875,"y":34.84375}},{"column":4692,"row":882,"value":10,"centerPoint":{"x":113.28125,"y":34.84375}},{"column":4693,"row":882,"value":11,"centerPoint":{"x":113.34375,"y":34.84375}}],[{"column":4678,"row":883,"value":11,"centerPoint":{"x":112.40625,"y":34.78125}},{"column":4679,"row":883,"value":11,"centerPoint":{"x":112.46875,"y":34.78125}},{"column":4680,"row":883,"value":11,"centerPoint":{"x":112.53125,"y":34.78125}},{"column":4681,"row":883,"value":11,"centerPoint":{"x":112.59375,"y":34.78125}},{"column":4682,"row":883,"value":11,"centerPoint":{"x":112.65625,"y":34.78125}},{"column":4683,"row":883,"value":11,"centerPoint":{"x":112.71875,"y":34.78125}},{"column":4684,"row":883,"value":11,"centerPoint":{"x":112.78125,"y":34.78125}},{"column":4685,"row":883,"value":11,"centerPoint":{"x":112.84375,"y":34.78125}},{"column":4686,"row":883,"value":11,"centerPoint":{"x":112.90625,"y":34.78125}},{"column":4687,"row":883,"value":11,"centerPoint":{"x":112.96875,"y":34.78125}},{"column":4688,"row":883,"value":11,"centerPoint":{"x":113.03125,"y":34.78125}},{"column":4689,"row":883,"value":10,"centerPoint":{"x":113.09375,"y":34.78125}},{"column":4690,"row":883,"value":10,"centerPoint":{"x":113.15625,"y":34.78125}},{"column":4691,"row":883,"value":11,"centerPoint":{"x":113.21875,"y":34.78125}},{"column":4692,"row":883,"value":10,"centerPoint":{"x":113.28125,"y":34.78125}},{"column":4693,"row":883,"value":11,"centerPoint":{"x":113.34375,"y":34.78125}}],[{"column":4678,"row":884,"value":11,"centerPoint":{"x":112.40625,"y":34.71875}},{"column":4679,"row":884,"value":11,"centerPoint":{"x":112.46875,"y":34.71875}},{"column":4680,"row":884,"value":11,"centerPoint":{"x":112.53125,"y":34.71875}},{"column":4681,"row":884,"value":11,"centerPoint":{"x":112.59375,"y":34.71875}},{"column":4682,"row":884,"value":11,"centerPoint":{"x":112.65625,"y":34.71875}},{"column":4683,"row":884,"value":11,"centerPoint":{"x":112.71875,"y":34.71875}},{"column":4684,"row":884,"value":11,"centerPoint":{"x":112.78125,"y":34.71875}},{"column":4685,"row":884,"value":11,"centerPoint":{"x":112.84375,"y":34.71875}},{"column":4686,"row":884,"value":11,"centerPoint":{"x":112.90625,"y":34.71875}},{"column":4687,"row":884,"value":11,"centerPoint":{"x":112.96875,"y":34.71875}},{"column":4688,"row":884,"value":11,"centerPoint":{"x":113.03125,"y":34.71875}},{"column":4689,"row":884,"value":11,"centerPoint":{"x":113.09375,"y":34.71875}},{"column":4690,"row":884,"value":10,"centerPoint":{"x":113.15625,"y":34.71875}},{"column":4691,"row":884,"value":11,"centerPoint":{"x":113.21875,"y":34.71875}},{"column":4692,"row":884,"value":11,"centerPoint":{"x":113.28125,"y":34.71875}},{"column":4693,"row":884,"value":11,"centerPoint":{"x":113.34375,"y":34.71875}}],[]],"rowCount":17,"columnCount":17}'
        bounds = DefaultValuesItem()
        bounds.leftBottom = Point2D()
        bounds.rightTop = Point2D()
        bounds.leftBottom.x = 112.351881
        bounds.leftBottom.y = 34.663401
        bounds.rightTop.x = 113.361881
        bounds.rightTop.y = 35.673401
        self.check_api('get_gridvalues',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/gridValues.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T', bounds=bounds)
        jsonstr = '{"postResultType":"CreateChild","succeed":true,"customResult":[{"valuesCount":96,"values":[[],[{"column":4603,"row":908,"value":1,"centerPoint":{"x":107.71875,"y":33.21875}},{"column":4604,"row":908,"value":1,"centerPoint":{"x":107.78125,"y":33.21875}},{"column":4605,"row":908,"value":1,"centerPoint":{"x":107.84375,"y":33.21875}},{"column":4606,"row":908,"value":1,"centerPoint":{"x":107.90625,"y":33.21875}},{"column":4607,"row":908,"value":4,"centerPoint":{"x":107.96875,"y":33.21875}},{"column":4608,"row":908,"value":4,"centerPoint":{"x":108.03125,"y":33.21875}},{"column":4609,"row":908,"value":4,"centerPoint":{"x":108.09375,"y":33.21875}},{"column":4610,"row":908,"value":5,"centerPoint":{"x":108.15625,"y":33.21875}},{"column":4611,"row":908,"value":4,"centerPoint":{"x":108.21875,"y":33.21875}},{"column":4612,"row":908,"value":4,"centerPoint":{"x":108.28125,"y":33.21875}},{"column":4613,"row":908,"value":4,"centerPoint":{"x":108.34375,"y":33.21875}},{"column":4614,"row":908,"value":5,"centerPoint":{"x":108.40625,"y":33.21875}},{"column":4615,"row":908,"value":1,"centerPoint":{"x":108.46875,"y":33.21875}},{"column":4616,"row":908,"value":1,"centerPoint":{"x":108.53125,"y":33.21875}},{"column":4617,"row":908,"value":1,"centerPoint":{"x":108.59375,"y":33.21875}},{"column":4618,"row":908,"value":4,"centerPoint":{"x":108.65625,"y":33.21875}}],[{"column":4603,"row":909,"value":1,"centerPoint":{"x":107.71875,"y":33.15625}},{"column":4604,"row":909,"value":1,"centerPoint":{"x":107.78125,"y":33.15625}},{"column":4605,"row":909,"value":1,"centerPoint":{"x":107.84375,"y":33.15625}},{"column":4606,"row":909,"value":1,"centerPoint":{"x":107.90625,"y":33.15625}},{"column":4607,"row":909,"value":1,"centerPoint":{"x":107.96875,"y":33.15625}},{"column":4608,"row":909,"value":1,"centerPoint":{"x":108.03125,"y":33.15625}},{"column":4609,"row":909,"value":1,"centerPoint":{"x":108.09375,"y":33.15625}},{"column":4610,"row":909,"value":1,"centerPoint":{"x":108.15625,"y":33.15625}},{"column":4611,"row":909,"value":1,"centerPoint":{"x":108.21875,"y":33.15625}},{"column":4612,"row":909,"value":1,"centerPoint":{"x":108.28125,"y":33.15625}},{"column":4613,"row":909,"value":1,"centerPoint":{"x":108.34375,"y":33.15625}},{"column":4614,"row":909,"value":1,"centerPoint":{"x":108.40625,"y":33.15625}},{"column":4615,"row":909,"value":1,"centerPoint":{"x":108.46875,"y":33.15625}},{"column":4616,"row":909,"value":1,"centerPoint":{"x":108.53125,"y":33.15625}},{"column":4617,"row":909,"value":1,"centerPoint":{"x":108.59375,"y":33.15625}},{"column":4618,"row":909,"value":1,"centerPoint":{"x":108.65625,"y":33.15625}}],[{"column":4603,"row":910,"value":1,"centerPoint":{"x":107.71875,"y":33.09375}},{"column":4604,"row":910,"value":1,"centerPoint":{"x":107.78125,"y":33.09375}},{"column":4605,"row":910,"value":1,"centerPoint":{"x":107.84375,"y":33.09375}},{"column":4606,"row":910,"value":1,"centerPoint":{"x":107.90625,"y":33.09375}},{"column":4607,"row":910,"value":1,"centerPoint":{"x":107.96875,"y":33.09375}},{"column":4608,"row":910,"value":1,"centerPoint":{"x":108.03125,"y":33.09375}},{"column":4609,"row":910,"value":1,"centerPoint":{"x":108.09375,"y":33.09375}},{"column":4610,"row":910,"value":1,"centerPoint":{"x":108.15625,"y":33.09375}},{"column":4611,"row":910,"value":1,"centerPoint":{"x":108.21875,"y":33.09375}},{"column":4612,"row":910,"value":1,"centerPoint":{"x":108.28125,"y":33.09375}},{"column":4613,"row":910,"value":1,"centerPoint":{"x":108.34375,"y":33.09375}},{"column":4614,"row":910,"value":1,"centerPoint":{"x":108.40625,"y":33.09375}},{"column":4615,"row":910,"value":11,"centerPoint":{"x":108.46875,"y":33.09375}},{"column":4616,"row":910,"value":11,"centerPoint":{"x":108.53125,"y":33.09375}},{"column":4617,"row":910,"value":11,"centerPoint":{"x":108.59375,"y":33.09375}},{"column":4618,"row":910,"value":1,"centerPoint":{"x":108.65625,"y":33.09375}}],[{"column":4603,"row":911,"value":11,"centerPoint":{"x":107.71875,"y":33.03125}},{"column":4604,"row":911,"value":11,"centerPoint":{"x":107.78125,"y":33.03125}},{"column":4605,"row":911,"value":1,"centerPoint":{"x":107.84375,"y":33.03125}},{"column":4606,"row":911,"value":1,"centerPoint":{"x":107.90625,"y":33.03125}},{"column":4607,"row":911,"value":1,"centerPoint":{"x":107.96875,"y":33.03125}},{"column":4608,"row":911,"value":1,"centerPoint":{"x":108.03125,"y":33.03125}},{"column":4609,"row":911,"value":1,"centerPoint":{"x":108.09375,"y":33.03125}},{"column":4610,"row":911,"value":1,"centerPoint":{"x":108.15625,"y":33.03125}},{"column":4611,"row":911,"value":1,"centerPoint":{"x":108.21875,"y":33.03125}},{"column":4612,"row":911,"value":1,"centerPoint":{"x":108.28125,"y":33.03125}},{"column":4613,"row":911,"value":1,"centerPoint":{"x":108.34375,"y":33.03125}},{"column":4614,"row":911,"value":1,"centerPoint":{"x":108.40625,"y":33.03125}},{"column":4615,"row":911,"value":1,"centerPoint":{"x":108.46875,"y":33.03125}},{"column":4616,"row":911,"value":6,"centerPoint":{"x":108.53125,"y":33.03125}},{"column":4617,"row":911,"value":11,"centerPoint":{"x":108.59375,"y":33.03125}},{"column":4618,"row":911,"value":1,"centerPoint":{"x":108.65625,"y":33.03125}}],[{"column":4603,"row":912,"value":11,"centerPoint":{"x":107.71875,"y":32.96875}},{"column":4604,"row":912,"value":1,"centerPoint":{"x":107.78125,"y":32.96875}},{"column":4605,"row":912,"value":1,"centerPoint":{"x":107.84375,"y":32.96875}},{"column":4606,"row":912,"value":1,"centerPoint":{"x":107.90625,"y":32.96875}},{"column":4607,"row":912,"value":1,"centerPoint":{"x":107.96875,"y":32.96875}},{"column":4608,"row":912,"value":1,"centerPoint":{"x":108.03125,"y":32.96875}},{"column":4609,"row":912,"value":1,"centerPoint":{"x":108.09375,"y":32.96875}},{"column":4610,"row":912,"value":1,"centerPoint":{"x":108.15625,"y":32.96875}},{"column":4611,"row":912,"value":1,"centerPoint":{"x":108.21875,"y":32.96875}},{"column":4612,"row":912,"value":1,"centerPoint":{"x":108.28125,"y":32.96875}},{"column":4613,"row":912,"value":1,"centerPoint":{"x":108.34375,"y":32.96875}},{"column":4614,"row":912,"value":1,"centerPoint":{"x":108.40625,"y":32.96875}},{"column":4615,"row":912,"value":11,"centerPoint":{"x":108.46875,"y":32.96875}},{"column":4616,"row":912,"value":6,"centerPoint":{"x":108.53125,"y":32.96875}},{"column":4617,"row":912,"value":6,"centerPoint":{"x":108.59375,"y":32.96875}},{"column":4618,"row":912,"value":6,"centerPoint":{"x":108.65625,"y":32.96875}}],[{"column":4603,"row":913,"value":1,"centerPoint":{"x":107.71875,"y":32.90625}},{"column":4604,"row":913,"value":4,"centerPoint":{"x":107.78125,"y":32.90625}},{"column":4605,"row":913,"value":4,"centerPoint":{"x":107.84375,"y":32.90625}},{"column":4606,"row":913,"value":4,"centerPoint":{"x":107.90625,"y":32.90625}},{"column":4607,"row":913,"value":1,"centerPoint":{"x":107.96875,"y":32.90625}},{"column":4608,"row":913,"value":1,"centerPoint":{"x":108.03125,"y":32.90625}},{"column":4609,"row":913,"value":1,"centerPoint":{"x":108.09375,"y":32.90625}},{"column":4610,"row":913,"value":1,"centerPoint":{"x":108.15625,"y":32.90625}},{"column":4611,"row":913,"value":1,"centerPoint":{"x":108.21875,"y":32.90625}},{"column":4612,"row":913,"value":1,"centerPoint":{"x":108.28125,"y":32.90625}},{"column":4613,"row":913,"value":1,"centerPoint":{"x":108.34375,"y":32.90625}},{"column":4614,"row":913,"value":1,"centerPoint":{"x":108.40625,"y":32.90625}},{"column":4615,"row":913,"value":1,"centerPoint":{"x":108.46875,"y":32.90625}},{"column":4616,"row":913,"value":1,"centerPoint":{"x":108.53125,"y":32.90625}},{"column":4617,"row":913,"value":1,"centerPoint":{"x":108.59375,"y":32.90625}},{"column":4618,"row":913,"value":1,"centerPoint":{"x":108.65625,"y":32.90625}}]],"rowCount":7,"columnCount":17},{"valuesCount":256,"values":[[{"column":4678,"row":869,"value":10,"centerPoint":{"x":112.40625,"y":35.65625}},{"column":4679,"row":869,"value":10,"centerPoint":{"x":112.46875,"y":35.65625}},{"column":4680,"row":869,"value":10,"centerPoint":{"x":112.53125,"y":35.65625}},{"column":4681,"row":869,"value":10,"centerPoint":{"x":112.59375,"y":35.65625}},{"column":4682,"row":869,"value":10,"centerPoint":{"x":112.65625,"y":35.65625}},{"column":4683,"row":869,"value":10,"centerPoint":{"x":112.71875,"y":35.65625}},{"column":4684,"row":869,"value":11,"centerPoint":{"x":112.78125,"y":35.65625}},{"column":4685,"row":869,"value":11,"centerPoint":{"x":112.84375,"y":35.65625}},{"column":4686,"row":869,"value":11,"centerPoint":{"x":112.90625,"y":35.65625}},{"column":4687,"row":869,"value":11,"centerPoint":{"x":112.96875,"y":35.65625}},{"column":4688,"row":869,"value":11,"centerPoint":{"x":113.03125,"y":35.65625}},{"column":4689,"row":869,"value":11,"centerPoint":{"x":113.09375,"y":35.65625}},{"column":4690,"row":869,"value":11,"centerPoint":{"x":113.15625,"y":35.65625}},{"column":4691,"row":869,"value":1,"centerPoint":{"x":113.21875,"y":35.65625}},{"column":4692,"row":869,"value":1,"centerPoint":{"x":113.28125,"y":35.65625}},{"column":4693,"row":869,"value":1,"centerPoint":{"x":113.34375,"y":35.65625}}],[{"column":4678,"row":870,"value":10,"centerPoint":{"x":112.40625,"y":35.59375}},{"column":4679,"row":870,"value":10,"centerPoint":{"x":112.46875,"y":35.59375}},{"column":4680,"row":870,"value":10,"centerPoint":{"x":112.53125,"y":35.59375}},{"column":4681,"row":870,"value":10,"centerPoint":{"x":112.59375,"y":35.59375}},{"column":4682,"row":870,"value":10,"centerPoint":{"x":112.65625,"y":35.59375}},{"column":4683,"row":870,"value":11,"centerPoint":{"x":112.71875,"y":35.59375}},{"column":4684,"row":870,"value":11,"centerPoint":{"x":112.78125,"y":35.59375}},{"column":4685,"row":870,"value":11,"centerPoint":{"x":112.84375,"y":35.59375}},{"column":4686,"row":870,"value":11,"centerPoint":{"x":112.90625,"y":35.59375}},{"column":4687,"row":870,"value":11,"centerPoint":{"x":112.96875,"y":35.59375}},{"column":4688,"row":870,"value":11,"centerPoint":{"x":113.03125,"y":35.59375}},{"column":4689,"row":870,"value":11,"centerPoint":{"x":113.09375,"y":35.59375}},{"column":4690,"row":870,"value":1,"centerPoint":{"x":113.15625,"y":35.59375}},{"column":4691,"row":870,"value":1,"centerPoint":{"x":113.21875,"y":35.59375}},{"column":4692,"row":870,"value":1,"centerPoint":{"x":113.28125,"y":35.59375}},{"column":4693,"row":870,"value":1,"centerPoint":{"x":113.34375,"y":35.59375}}],[{"column":4678,"row":871,"value":10,"centerPoint":{"x":112.40625,"y":35.53125}},{"column":4679,"row":871,"value":10,"centerPoint":{"x":112.46875,"y":35.53125}},{"column":4680,"row":871,"value":10,"centerPoint":{"x":112.53125,"y":35.53125}},{"column":4681,"row":871,"value":10,"centerPoint":{"x":112.59375,"y":35.53125}},{"column":4682,"row":871,"value":11,"centerPoint":{"x":112.65625,"y":35.53125}},{"column":4683,"row":871,"value":11,"centerPoint":{"x":112.71875,"y":35.53125}},{"column":4684,"row":871,"value":11,"centerPoint":{"x":112.78125,"y":35.53125}},{"column":4685,"row":871,"value":10,"centerPoint":{"x":112.84375,"y":35.53125}},{"column":4686,"row":871,"value":11,"centerPoint":{"x":112.90625,"y":35.53125}},{"column":4687,"row":871,"value":11,"centerPoint":{"x":112.96875,"y":35.53125}},{"column":4688,"row":871,"value":11,"centerPoint":{"x":113.03125,"y":35.53125}},{"column":4689,"row":871,"value":11,"centerPoint":{"x":113.09375,"y":35.53125}},{"column":4690,"row":871,"value":1,"centerPoint":{"x":113.15625,"y":35.53125}},{"column":4691,"row":871,"value":1,"centerPoint":{"x":113.21875,"y":35.53125}},{"column":4692,"row":871,"value":1,"centerPoint":{"x":113.28125,"y":35.53125}},{"column":4693,"row":871,"value":1,"centerPoint":{"x":113.34375,"y":35.53125}}],[{"column":4678,"row":872,"value":10,"centerPoint":{"x":112.40625,"y":35.46875}},{"column":4679,"row":872,"value":11,"centerPoint":{"x":112.46875,"y":35.46875}},{"column":4680,"row":872,"value":11,"centerPoint":{"x":112.53125,"y":35.46875}},{"column":4681,"row":872,"value":11,"centerPoint":{"x":112.59375,"y":35.46875}},{"column":4682,"row":872,"value":11,"centerPoint":{"x":112.65625,"y":35.46875}},{"column":4683,"row":872,"value":10,"centerPoint":{"x":112.71875,"y":35.46875}},{"column":4684,"row":872,"value":10,"centerPoint":{"x":112.78125,"y":35.46875}},{"column":4685,"row":872,"value":10,"centerPoint":{"x":112.84375,"y":35.46875}},{"column":4686,"row":872,"value":11,"centerPoint":{"x":112.90625,"y":35.46875}},{"column":4687,"row":872,"value":11,"centerPoint":{"x":112.96875,"y":35.46875}},{"column":4688,"row":872,"value":11,"centerPoint":{"x":113.03125,"y":35.46875}},{"column":4689,"row":872,"value":1,"centerPoint":{"x":113.09375,"y":35.46875}},{"column":4690,"row":872,"value":1,"centerPoint":{"x":113.15625,"y":35.46875}},{"column":4691,"row":872,"value":11,"centerPoint":{"x":113.21875,"y":35.46875}},{"column":4692,"row":872,"value":11,"centerPoint":{"x":113.28125,"y":35.46875}},{"column":4693,"row":872,"value":11,"centerPoint":{"x":113.34375,"y":35.46875}}],[{"column":4678,"row":873,"value":11,"centerPoint":{"x":112.40625,"y":35.40625}},{"column":4679,"row":873,"value":11,"centerPoint":{"x":112.46875,"y":35.40625}},{"column":4680,"row":873,"value":11,"centerPoint":{"x":112.53125,"y":35.40625}},{"column":4681,"row":873,"value":11,"centerPoint":{"x":112.59375,"y":35.40625}},{"column":4682,"row":873,"value":10,"centerPoint":{"x":112.65625,"y":35.40625}},{"column":4683,"row":873,"value":10,"centerPoint":{"x":112.71875,"y":35.40625}},{"column":4684,"row":873,"value":10,"centerPoint":{"x":112.78125,"y":35.40625}},{"column":4685,"row":873,"value":11,"centerPoint":{"x":112.84375,"y":35.40625}},{"column":4686,"row":873,"value":11,"centerPoint":{"x":112.90625,"y":35.40625}},{"column":4687,"row":873,"value":10,"centerPoint":{"x":112.96875,"y":35.40625}},{"column":4688,"row":873,"value":10,"centerPoint":{"x":113.03125,"y":35.40625}},{"column":4689,"row":873,"value":10,"centerPoint":{"x":113.09375,"y":35.40625}},{"column":4690,"row":873,"value":11,"centerPoint":{"x":113.15625,"y":35.40625}},{"column":4691,"row":873,"value":11,"centerPoint":{"x":113.21875,"y":35.40625}},{"column":4692,"row":873,"value":10,"centerPoint":{"x":113.28125,"y":35.40625}},{"column":4693,"row":873,"value":10,"centerPoint":{"x":113.34375,"y":35.40625}}],[{"column":4678,"row":874,"value":11,"centerPoint":{"x":112.40625,"y":35.34375}},{"column":4679,"row":874,"value":11,"centerPoint":{"x":112.46875,"y":35.34375}},{"column":4680,"row":874,"value":11,"centerPoint":{"x":112.53125,"y":35.34375}},{"column":4681,"row":874,"value":11,"centerPoint":{"x":112.59375,"y":35.34375}},{"column":4682,"row":874,"value":11,"centerPoint":{"x":112.65625,"y":35.34375}},{"column":4683,"row":874,"value":11,"centerPoint":{"x":112.71875,"y":35.34375}},{"column":4684,"row":874,"value":11,"centerPoint":{"x":112.78125,"y":35.34375}},{"column":4685,"row":874,"value":11,"centerPoint":{"x":112.84375,"y":35.34375}},{"column":4686,"row":874,"value":11,"centerPoint":{"x":112.90625,"y":35.34375}},{"column":4687,"row":874,"value":11,"centerPoint":{"x":112.96875,"y":35.34375}},{"column":4688,"row":874,"value":11,"centerPoint":{"x":113.03125,"y":35.34375}},{"column":4689,"row":874,"value":11,"centerPoint":{"x":113.09375,"y":35.34375}},{"column":4690,"row":874,"value":11,"centerPoint":{"x":113.15625,"y":35.34375}},{"column":4691,"row":874,"value":10,"centerPoint":{"x":113.21875,"y":35.34375}},{"column":4692,"row":874,"value":10,"centerPoint":{"x":113.28125,"y":35.34375}},{"column":4693,"row":874,"value":11,"centerPoint":{"x":113.34375,"y":35.34375}}],[{"column":4678,"row":875,"value":1,"centerPoint":{"x":112.40625,"y":35.28125}},{"column":4679,"row":875,"value":11,"centerPoint":{"x":112.46875,"y":35.28125}},{"column":4680,"row":875,"value":11,"centerPoint":{"x":112.53125,"y":35.28125}},{"column":4681,"row":875,"value":11,"centerPoint":{"x":112.59375,"y":35.28125}},{"column":4682,"row":875,"value":11,"centerPoint":{"x":112.65625,"y":35.28125}},{"column":4683,"row":875,"value":11,"centerPoint":{"x":112.71875,"y":35.28125}},{"column":4684,"row":875,"value":11,"centerPoint":{"x":112.78125,"y":35.28125}},{"column":4685,"row":875,"value":11,"centerPoint":{"x":112.84375,"y":35.28125}},{"column":4686,"row":875,"value":11,"centerPoint":{"x":112.90625,"y":35.28125}},{"column":4687,"row":875,"value":11,"centerPoint":{"x":112.96875,"y":35.28125}},{"column":4688,"row":875,"value":11,"centerPoint":{"x":113.03125,"y":35.28125}},{"column":4689,"row":875,"value":11,"centerPoint":{"x":113.09375,"y":35.28125}},{"column":4690,"row":875,"value":11,"centerPoint":{"x":113.15625,"y":35.28125}},{"column":4691,"row":875,"value":11,"centerPoint":{"x":113.21875,"y":35.28125}},{"column":4692,"row":875,"value":11,"centerPoint":{"x":113.28125,"y":35.28125}},{"column":4693,"row":875,"value":11,"centerPoint":{"x":113.34375,"y":35.28125}}],[{"column":4678,"row":876,"value":11,"centerPoint":{"x":112.40625,"y":35.21875}},{"column":4679,"row":876,"value":11,"centerPoint":{"x":112.46875,"y":35.21875}},{"column":4680,"row":876,"value":11,"centerPoint":{"x":112.53125,"y":35.21875}},{"column":4681,"row":876,"value":11,"centerPoint":{"x":112.59375,"y":35.21875}},{"column":4682,"row":876,"value":11,"centerPoint":{"x":112.65625,"y":35.21875}},{"column":4683,"row":876,"value":11,"centerPoint":{"x":112.71875,"y":35.21875}},{"column":4684,"row":876,"value":11,"centerPoint":{"x":112.78125,"y":35.21875}},{"column":4685,"row":876,"value":11,"centerPoint":{"x":112.84375,"y":35.21875}},{"column":4686,"row":876,"value":11,"centerPoint":{"x":112.90625,"y":35.21875}},{"column":4687,"row":876,"value":11,"centerPoint":{"x":112.96875,"y":35.21875}},{"column":4688,"row":876,"value":11,"centerPoint":{"x":113.03125,"y":35.21875}},{"column":4689,"row":876,"value":11,"centerPoint":{"x":113.09375,"y":35.21875}},{"column":4690,"row":876,"value":11,"centerPoint":{"x":113.15625,"y":35.21875}},{"column":4691,"row":876,"value":11,"centerPoint":{"x":113.21875,"y":35.21875}},{"column":4692,"row":876,"value":11,"centerPoint":{"x":113.28125,"y":35.21875}},{"column":4693,"row":876,"value":11,"centerPoint":{"x":113.34375,"y":35.21875}}],[{"column":4678,"row":877,"value":11,"centerPoint":{"x":112.40625,"y":35.15625}},{"column":4679,"row":877,"value":11,"centerPoint":{"x":112.46875,"y":35.15625}},{"column":4680,"row":877,"value":11,"centerPoint":{"x":112.53125,"y":35.15625}},{"column":4681,"row":877,"value":11,"centerPoint":{"x":112.59375,"y":35.15625}},{"column":4682,"row":877,"value":11,"centerPoint":{"x":112.65625,"y":35.15625}},{"column":4683,"row":877,"value":11,"centerPoint":{"x":112.71875,"y":35.15625}},{"column":4684,"row":877,"value":11,"centerPoint":{"x":112.78125,"y":35.15625}},{"column":4685,"row":877,"value":11,"centerPoint":{"x":112.84375,"y":35.15625}},{"column":4686,"row":877,"value":11,"centerPoint":{"x":112.90625,"y":35.15625}},{"column":4687,"row":877,"value":11,"centerPoint":{"x":112.96875,"y":35.15625}},{"column":4688,"row":877,"value":11,"centerPoint":{"x":113.03125,"y":35.15625}},{"column":4689,"row":877,"value":11,"centerPoint":{"x":113.09375,"y":35.15625}},{"column":4690,"row":877,"value":11,"centerPoint":{"x":113.15625,"y":35.15625}},{"column":4691,"row":877,"value":11,"centerPoint":{"x":113.21875,"y":35.15625}},{"column":4692,"row":877,"value":11,"centerPoint":{"x":113.28125,"y":35.15625}},{"column":4693,"row":877,"value":11,"centerPoint":{"x":113.34375,"y":35.15625}}],[{"column":4678,"row":878,"value":11,"centerPoint":{"x":112.40625,"y":35.09375}},{"column":4679,"row":878,"value":11,"centerPoint":{"x":112.46875,"y":35.09375}},{"column":4680,"row":878,"value":11,"centerPoint":{"x":112.53125,"y":35.09375}},{"column":4681,"row":878,"value":11,"centerPoint":{"x":112.59375,"y":35.09375}},{"column":4682,"row":878,"value":11,"centerPoint":{"x":112.65625,"y":35.09375}},{"column":4683,"row":878,"value":11,"centerPoint":{"x":112.71875,"y":35.09375}},{"column":4684,"row":878,"value":11,"centerPoint":{"x":112.78125,"y":35.09375}},{"column":4685,"row":878,"value":11,"centerPoint":{"x":112.84375,"y":35.09375}},{"column":4686,"row":878,"value":11,"centerPoint":{"x":112.90625,"y":35.09375}},{"column":4687,"row":878,"value":11,"centerPoint":{"x":112.96875,"y":35.09375}},{"column":4688,"row":878,"value":11,"centerPoint":{"x":113.03125,"y":35.09375}},{"column":4689,"row":878,"value":11,"centerPoint":{"x":113.09375,"y":35.09375}},{"column":4690,"row":878,"value":11,"centerPoint":{"x":113.15625,"y":35.09375}},{"column":4691,"row":878,"value":11,"centerPoint":{"x":113.21875,"y":35.09375}},{"column":4692,"row":878,"value":11,"centerPoint":{"x":113.28125,"y":35.09375}},{"column":4693,"row":878,"value":11,"centerPoint":{"x":113.34375,"y":35.09375}}],[{"column":4678,"row":879,"value":11,"centerPoint":{"x":112.40625,"y":35.03125}},{"column":4679,"row":879,"value":11,"centerPoint":{"x":112.46875,"y":35.03125}},{"column":4680,"row":879,"value":11,"centerPoint":{"x":112.53125,"y":35.03125}},{"column":4681,"row":879,"value":11,"centerPoint":{"x":112.59375,"y":35.03125}},{"column":4682,"row":879,"value":11,"centerPoint":{"x":112.65625,"y":35.03125}},{"column":4683,"row":879,"value":11,"centerPoint":{"x":112.71875,"y":35.03125}},{"column":4684,"row":879,"value":11,"centerPoint":{"x":112.78125,"y":35.03125}},{"column":4685,"row":879,"value":11,"centerPoint":{"x":112.84375,"y":35.03125}},{"column":4686,"row":879,"value":11,"centerPoint":{"x":112.90625,"y":35.03125}},{"column":4687,"row":879,"value":11,"centerPoint":{"x":112.96875,"y":35.03125}},{"column":4688,"row":879,"value":11,"centerPoint":{"x":113.03125,"y":35.03125}},{"column":4689,"row":879,"value":11,"centerPoint":{"x":113.09375,"y":35.03125}},{"column":4690,"row":879,"value":11,"centerPoint":{"x":113.15625,"y":35.03125}},{"column":4691,"row":879,"value":11,"centerPoint":{"x":113.21875,"y":35.03125}},{"column":4692,"row":879,"value":11,"centerPoint":{"x":113.28125,"y":35.03125}},{"column":4693,"row":879,"value":11,"centerPoint":{"x":113.34375,"y":35.03125}}],[{"column":4678,"row":880,"value":10,"centerPoint":{"x":112.40625,"y":34.96875}},{"column":4679,"row":880,"value":10,"centerPoint":{"x":112.46875,"y":34.96875}},{"column":4680,"row":880,"value":11,"centerPoint":{"x":112.53125,"y":34.96875}},{"column":4681,"row":880,"value":11,"centerPoint":{"x":112.59375,"y":34.96875}},{"column":4682,"row":880,"value":11,"centerPoint":{"x":112.65625,"y":34.96875}},{"column":4683,"row":880,"value":11,"centerPoint":{"x":112.71875,"y":34.96875}},{"column":4684,"row":880,"value":11,"centerPoint":{"x":112.78125,"y":34.96875}},{"column":4685,"row":880,"value":11,"centerPoint":{"x":112.84375,"y":34.96875}},{"column":4686,"row":880,"value":11,"centerPoint":{"x":112.90625,"y":34.96875}},{"column":4687,"row":880,"value":11,"centerPoint":{"x":112.96875,"y":34.96875}},{"column":4688,"row":880,"value":11,"centerPoint":{"x":113.03125,"y":34.96875}},{"column":4689,"row":880,"value":11,"centerPoint":{"x":113.09375,"y":34.96875}},{"column":4690,"row":880,"value":11,"centerPoint":{"x":113.15625,"y":34.96875}},{"column":4691,"row":880,"value":11,"centerPoint":{"x":113.21875,"y":34.96875}},{"column":4692,"row":880,"value":10,"centerPoint":{"x":113.28125,"y":34.96875}},{"column":4693,"row":880,"value":10,"centerPoint":{"x":113.34375,"y":34.96875}}],[{"column":4678,"row":881,"value":11,"centerPoint":{"x":112.40625,"y":34.90625}},{"column":4679,"row":881,"value":11,"centerPoint":{"x":112.46875,"y":34.90625}},{"column":4680,"row":881,"value":11,"centerPoint":{"x":112.53125,"y":34.90625}},{"column":4681,"row":881,"value":11,"centerPoint":{"x":112.59375,"y":34.90625}},{"column":4682,"row":881,"value":11,"centerPoint":{"x":112.65625,"y":34.90625}},{"column":4683,"row":881,"value":11,"centerPoint":{"x":112.71875,"y":34.90625}},{"column":4684,"row":881,"value":11,"centerPoint":{"x":112.78125,"y":34.90625}},{"column":4685,"row":881,"value":11,"centerPoint":{"x":112.84375,"y":34.90625}},{"column":4686,"row":881,"value":11,"centerPoint":{"x":112.90625,"y":34.90625}},{"column":4687,"row":881,"value":11,"centerPoint":{"x":112.96875,"y":34.90625}},{"column":4688,"row":881,"value":11,"centerPoint":{"x":113.03125,"y":34.90625}},{"column":4689,"row":881,"value":11,"centerPoint":{"x":113.09375,"y":34.90625}},{"column":4690,"row":881,"value":11,"centerPoint":{"x":113.15625,"y":34.90625}},{"column":4691,"row":881,"value":11,"centerPoint":{"x":113.21875,"y":34.90625}},{"column":4692,"row":881,"value":11,"centerPoint":{"x":113.28125,"y":34.90625}},{"column":4693,"row":881,"value":11,"centerPoint":{"x":113.34375,"y":34.90625}}],[{"column":4678,"row":882,"value":10,"centerPoint":{"x":112.40625,"y":34.84375}},{"column":4679,"row":882,"value":11,"centerPoint":{"x":112.46875,"y":34.84375}},{"column":4680,"row":882,"value":11,"centerPoint":{"x":112.53125,"y":34.84375}},{"column":4681,"row":882,"value":11,"centerPoint":{"x":112.59375,"y":34.84375}},{"column":4682,"row":882,"value":11,"centerPoint":{"x":112.65625,"y":34.84375}},{"column":4683,"row":882,"value":11,"centerPoint":{"x":112.71875,"y":34.84375}},{"column":4684,"row":882,"value":11,"centerPoint":{"x":112.78125,"y":34.84375}},{"column":4685,"row":882,"value":11,"centerPoint":{"x":112.84375,"y":34.84375}},{"column":4686,"row":882,"value":11,"centerPoint":{"x":112.90625,"y":34.84375}},{"column":4687,"row":882,"value":11,"centerPoint":{"x":112.96875,"y":34.84375}},{"column":4688,"row":882,"value":11,"centerPoint":{"x":113.03125,"y":34.84375}},{"column":4689,"row":882,"value":10,"centerPoint":{"x":113.09375,"y":34.84375}},{"column":4690,"row":882,"value":11,"centerPoint":{"x":113.15625,"y":34.84375}},{"column":4691,"row":882,"value":11,"centerPoint":{"x":113.21875,"y":34.84375}},{"column":4692,"row":882,"value":10,"centerPoint":{"x":113.28125,"y":34.84375}},{"column":4693,"row":882,"value":11,"centerPoint":{"x":113.34375,"y":34.84375}}],[{"column":4678,"row":883,"value":11,"centerPoint":{"x":112.40625,"y":34.78125}},{"column":4679,"row":883,"value":11,"centerPoint":{"x":112.46875,"y":34.78125}},{"column":4680,"row":883,"value":11,"centerPoint":{"x":112.53125,"y":34.78125}},{"column":4681,"row":883,"value":11,"centerPoint":{"x":112.59375,"y":34.78125}},{"column":4682,"row":883,"value":11,"centerPoint":{"x":112.65625,"y":34.78125}},{"column":4683,"row":883,"value":11,"centerPoint":{"x":112.71875,"y":34.78125}},{"column":4684,"row":883,"value":11,"centerPoint":{"x":112.78125,"y":34.78125}},{"column":4685,"row":883,"value":11,"centerPoint":{"x":112.84375,"y":34.78125}},{"column":4686,"row":883,"value":11,"centerPoint":{"x":112.90625,"y":34.78125}},{"column":4687,"row":883,"value":11,"centerPoint":{"x":112.96875,"y":34.78125}},{"column":4688,"row":883,"value":11,"centerPoint":{"x":113.03125,"y":34.78125}},{"column":4689,"row":883,"value":10,"centerPoint":{"x":113.09375,"y":34.78125}},{"column":4690,"row":883,"value":10,"centerPoint":{"x":113.15625,"y":34.78125}},{"column":4691,"row":883,"value":11,"centerPoint":{"x":113.21875,"y":34.78125}},{"column":4692,"row":883,"value":10,"centerPoint":{"x":113.28125,"y":34.78125}},{"column":4693,"row":883,"value":11,"centerPoint":{"x":113.34375,"y":34.78125}}],[{"column":4678,"row":884,"value":11,"centerPoint":{"x":112.40625,"y":34.71875}},{"column":4679,"row":884,"value":11,"centerPoint":{"x":112.46875,"y":34.71875}},{"column":4680,"row":884,"value":11,"centerPoint":{"x":112.53125,"y":34.71875}},{"column":4681,"row":884,"value":11,"centerPoint":{"x":112.59375,"y":34.71875}},{"column":4682,"row":884,"value":11,"centerPoint":{"x":112.65625,"y":34.71875}},{"column":4683,"row":884,"value":11,"centerPoint":{"x":112.71875,"y":34.71875}},{"column":4684,"row":884,"value":11,"centerPoint":{"x":112.78125,"y":34.71875}},{"column":4685,"row":884,"value":11,"centerPoint":{"x":112.84375,"y":34.71875}},{"column":4686,"row":884,"value":11,"centerPoint":{"x":112.90625,"y":34.71875}},{"column":4687,"row":884,"value":11,"centerPoint":{"x":112.96875,"y":34.71875}},{"column":4688,"row":884,"value":11,"centerPoint":{"x":113.03125,"y":34.71875}},{"column":4689,"row":884,"value":11,"centerPoint":{"x":113.09375,"y":34.71875}},{"column":4690,"row":884,"value":10,"centerPoint":{"x":113.15625,"y":34.71875}},{"column":4691,"row":884,"value":11,"centerPoint":{"x":113.21875,"y":34.71875}},{"column":4692,"row":884,"value":11,"centerPoint":{"x":113.28125,"y":34.71875}},{"column":4693,"row":884,"value":11,"centerPoint":{"x":113.34375,"y":34.71875}}],[]],"rowCount":17,"columnCount":17}]}'
        bounds = DefaultValuesItem()
        bounds.circle = Circle()
        bounds.circle.centerPoint = Point2D()
        bounds.circle.centerPoint.x = 108.012838
        bounds.circle.centerPoint.y = 33.594138
        bounds.circle.radius = 1
        bounds2 = DefaultValuesItem()
        bounds2.circle = Circle()
        bounds2.circle.centerPoint = Point2D()
        bounds2.circle.centerPoint.x = 112.351881
        bounds2.circle.centerPoint.y = 35.673401
        bounds2.circle.radius = 1
        entity = [bounds2, bounds]
        self.check_api('post_gridvalues',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/gridValues.json",
                       HttpMethod.POST, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T', entity=entity)
        jsonstr = '{"column":4677,"row":885,"value":11,"centerPoint":{"x":112.361881,"y":34.673401}}'
        self.check_api('get_gridvalue',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/gridValue.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T', x=112.361881, y=34.673401)
        jsonstr = '{"valuesCount":36,"values":[[{"color":{"red":50,"green":64,"blue":28,"alpha":255},"column":1663,"bounds":null,"row":309,"value":3293212,"centerPoint":{"x":112.412109375,"y":35.595703125}},{"color":{"red":64,"green":69,"blue":37,"alpha":255},"column":1664,"bounds":null,"row":309,"value":4212005,"centerPoint":{"x":112.587890625,"y":35.595703125}},{"color":{"red":64,"green":69,"blue":37,"alpha":255},"column":1665,"bounds":null,"row":309,"value":4212005,"centerPoint":{"x":112.763671875,"y":35.595703125}},{"color":{"red":59,"green":66,"blue":33,"alpha":255},"column":1666,"bounds":null,"row":309,"value":3883553,"centerPoint":{"x":112.939453125,"y":35.595703125}},{"color":{"red":48,"green":55,"blue":22,"alpha":255},"column":1667,"bounds":null,"row":309,"value":3159830,"centerPoint":{"x":113.115234375,"y":35.595703125}},{"color":{"red":37,"green":44,"blue":11,"alpha":255},"column":1668,"bounds":null,"row":309,"value":2436107,"centerPoint":{"x":113.291015625,"y":35.595703125}}],[{"color":{"red":55,"green":67,"blue":29,"alpha":255},"column":1663,"bounds":null,"row":310,"value":3621661,"centerPoint":{"x":112.412109375,"y":35.419921875}},{"color":{"red":68,"green":73,"blue":41,"alpha":255},"column":1664,"bounds":null,"row":310,"value":4475177,"centerPoint":{"x":112.587890625,"y":35.419921875}},{"color":{"red":62,"green":67,"blue":35,"alpha":255},"column":1665,"bounds":null,"row":310,"value":4080419,"centerPoint":{"x":112.763671875,"y":35.419921875}},{"color":{"red":53,"green":58,"blue":26,"alpha":255},"column":1666,"bounds":null,"row":310,"value":3488282,"centerPoint":{"x":112.939453125,"y":35.419921875}},{"color":{"red":46,"green":51,"blue":19,"alpha":255},"column":1667,"bounds":null,"row":310,"value":3027731,"centerPoint":{"x":113.115234375,"y":35.419921875}},{"color":{"red":44,"green":51,"blue":18,"alpha":255},"column":1668,"bounds":null,"row":310,"value":2896658,"centerPoint":{"x":113.291015625,"y":35.419921875}}],[{"color":{"red":39,"green":51,"blue":13,"alpha":255},"column":1663,"bounds":null,"row":311,"value":2568973,"centerPoint":{"x":112.412109375,"y":35.244140625}},{"color":{"red":43,"green":48,"blue":16,"alpha":255},"column":1664,"bounds":null,"row":311,"value":2830352,"centerPoint":{"x":112.587890625,"y":35.244140625}},{"color":{"red":45,"green":50,"blue":18,"alpha":255},"column":1665,"bounds":null,"row":311,"value":2961938,"centerPoint":{"x":112.763671875,"y":35.244140625}},{"color":{"red":52,"green":57,"blue":25,"alpha":255},"column":1666,"bounds":null,"row":311,"value":3422489,"centerPoint":{"x":112.939453125,"y":35.244140625}},{"color":{"red":64,"green":69,"blue":37,"alpha":255},"column":1667,"bounds":null,"row":311,"value":4212005,"centerPoint":{"x":113.115234375,"y":35.244140625}},{"color":{"red":74,"green":79,"blue":47,"alpha":255},"column":1668,"bounds":null,"row":311,"value":4869935,"centerPoint":{"x":113.291015625,"y":35.244140625}}],[{"color":{"red":43,"green":55,"blue":19,"alpha":255},"column":1663,"bounds":null,"row":312,"value":2832147,"centerPoint":{"x":112.412109375,"y":35.068359375}},{"color":{"red":64,"green":68,"blue":35,"alpha":255},"column":1664,"bounds":null,"row":312,"value":4211747,"centerPoint":{"x":112.587890625,"y":35.068359375}},{"color":{"red":69,"green":73,"blue":40,"alpha":255},"column":1665,"bounds":null,"row":312,"value":4540712,"centerPoint":{"x":112.763671875,"y":35.068359375}},{"color":{"red":74,"green":78,"blue":45,"alpha":255},"column":1666,"bounds":null,"row":312,"value":4869677,"centerPoint":{"x":112.939453125,"y":35.068359375}},{"color":{"red":75,"green":81,"blue":47,"alpha":255},"column":1667,"bounds":null,"row":312,"value":4935983,"centerPoint":{"x":113.115234375,"y":35.068359375}},{"color":{"red":77,"green":83,"blue":49,"alpha":255},"column":1668,"bounds":null,"row":312,"value":5067569,"centerPoint":{"x":113.291015625,"y":35.068359375}}],[{"color":{"red":59,"green":71,"blue":35,"alpha":255},"column":1663,"bounds":null,"row":313,"value":3884835,"centerPoint":{"x":112.412109375,"y":34.892578125}},{"color":{"red":70,"green":74,"blue":41,"alpha":255},"column":1664,"bounds":null,"row":313,"value":4606505,"centerPoint":{"x":112.587890625,"y":34.892578125}},{"color":{"red":75,"green":79,"blue":46,"alpha":255},"column":1665,"bounds":null,"row":313,"value":4935470,"centerPoint":{"x":112.763671875,"y":34.892578125}},{"color":{"red":77,"green":81,"blue":48,"alpha":255},"column":1666,"bounds":null,"row":313,"value":5067056,"centerPoint":{"x":112.939453125,"y":34.892578125}},{"color":{"red":75,"green":79,"blue":46,"alpha":255},"column":1667,"bounds":null,"row":313,"value":4935470,"centerPoint":{"x":113.115234375,"y":34.892578125}},{"color":{"red":72,"green":78,"blue":44,"alpha":255},"column":1668,"bounds":null,"row":313,"value":4738604,"centerPoint":{"x":113.291015625,"y":34.892578125}}],[{"color":{"red":74,"green":84,"blue":50,"alpha":255},"column":1663,"bounds":null,"row":314,"value":4871218,"centerPoint":{"x":112.412109375,"y":34.716796875}},{"color":{"red":73,"green":77,"blue":42,"alpha":255},"column":1664,"bounds":null,"row":314,"value":4803882,"centerPoint":{"x":112.587890625,"y":34.716796875}},{"color":{"red":76,"green":80,"blue":45,"alpha":255},"column":1665,"bounds":null,"row":314,"value":5001261,"centerPoint":{"x":112.763671875,"y":34.716796875}},{"color":{"red":73,"green":77,"blue":42,"alpha":255},"column":1666,"bounds":null,"row":314,"value":4803882,"centerPoint":{"x":112.939453125,"y":34.716796875}},{"color":{"red":65,"green":69,"blue":34,"alpha":255},"column":1667,"bounds":null,"row":314,"value":4277538,"centerPoint":{"x":113.115234375,"y":34.716796875}},{"color":{"red":62,"green":66,"blue":31,"alpha":255},"column":1668,"bounds":null,"row":314,"value":4080159,"centerPoint":{"x":113.291015625,"y":34.716796875}}]],"rowCount":6,"columnCount":6}'
        bounds = DefaultValuesItem()
        bounds.leftBottom = Point2D()
        bounds.rightTop = Point2D()
        bounds.leftBottom.x = 112.351881
        bounds.leftBottom.y = 34.663401
        bounds.rightTop.x = 113.361881
        bounds.rightTop.y = 35.673401
        self.check_api('get_imagevalues',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/imageValues.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T', bounds=bounds)
        jsonstr = '{"postResultType":"CreateChild","succeed":true,"customResult":[{"valuesCount":10,"values":[[],[{"color":{"red":44,"green":54,"blue":27,"alpha":255},"column":1637,"bounds":null,"row":323,"value":2897435,"centerPoint":{"x":107.841796875,"y":33.134765625}},{"color":{"red":38,"green":48,"blue":21,"alpha":255},"column":1638,"bounds":null,"row":323,"value":2502677,"centerPoint":{"x":108.017578125,"y":33.134765625}},{"color":{"red":35,"green":45,"blue":18,"alpha":255},"column":1639,"bounds":null,"row":323,"value":2305298,"centerPoint":{"x":108.193359375,"y":33.134765625}},{"color":{"red":32,"green":42,"blue":15,"alpha":255},"column":1640,"bounds":null,"row":323,"value":2107919,"centerPoint":{"x":108.369140625,"y":33.134765625}},{"color":{"red":28,"green":38,"blue":11,"alpha":255},"column":1641,"bounds":null,"row":323,"value":1844747,"centerPoint":{"x":108.544921875,"y":33.134765625}}],[{"color":{"red":35,"green":45,"blue":18,"alpha":255},"column":1637,"bounds":null,"row":324,"value":2305298,"centerPoint":{"x":107.841796875,"y":32.958984375}},{"color":{"red":33,"green":43,"blue":16,"alpha":255},"column":1638,"bounds":null,"row":324,"value":2173712,"centerPoint":{"x":108.017578125,"y":32.958984375}},{"color":{"red":31,"green":41,"blue":14,"alpha":255},"column":1639,"bounds":null,"row":324,"value":2042126,"centerPoint":{"x":108.193359375,"y":32.958984375}},{"color":{"red":35,"green":45,"blue":18,"alpha":255},"column":1640,"bounds":null,"row":324,"value":2305298,"centerPoint":{"x":108.369140625,"y":32.958984375}},{"color":{"red":33,"green":43,"blue":16,"alpha":255},"column":1641,"bounds":null,"row":324,"value":2173712,"centerPoint":{"x":108.544921875,"y":32.958984375}}]],"rowCount":3,"columnCount":7},{"valuesCount":36,"values":[[{"color":{"red":50,"green":64,"blue":28,"alpha":255},"column":1663,"bounds":null,"row":309,"value":3293212,"centerPoint":{"x":112.412109375,"y":35.595703125}},{"color":{"red":64,"green":69,"blue":37,"alpha":255},"column":1664,"bounds":null,"row":309,"value":4212005,"centerPoint":{"x":112.587890625,"y":35.595703125}},{"color":{"red":64,"green":69,"blue":37,"alpha":255},"column":1665,"bounds":null,"row":309,"value":4212005,"centerPoint":{"x":112.763671875,"y":35.595703125}},{"color":{"red":59,"green":66,"blue":33,"alpha":255},"column":1666,"bounds":null,"row":309,"value":3883553,"centerPoint":{"x":112.939453125,"y":35.595703125}},{"color":{"red":48,"green":55,"blue":22,"alpha":255},"column":1667,"bounds":null,"row":309,"value":3159830,"centerPoint":{"x":113.115234375,"y":35.595703125}},{"color":{"red":37,"green":44,"blue":11,"alpha":255},"column":1668,"bounds":null,"row":309,"value":2436107,"centerPoint":{"x":113.291015625,"y":35.595703125}}],[{"color":{"red":55,"green":67,"blue":29,"alpha":255},"column":1663,"bounds":null,"row":310,"value":3621661,"centerPoint":{"x":112.412109375,"y":35.419921875}},{"color":{"red":68,"green":73,"blue":41,"alpha":255},"column":1664,"bounds":null,"row":310,"value":4475177,"centerPoint":{"x":112.587890625,"y":35.419921875}},{"color":{"red":62,"green":67,"blue":35,"alpha":255},"column":1665,"bounds":null,"row":310,"value":4080419,"centerPoint":{"x":112.763671875,"y":35.419921875}},{"color":{"red":53,"green":58,"blue":26,"alpha":255},"column":1666,"bounds":null,"row":310,"value":3488282,"centerPoint":{"x":112.939453125,"y":35.419921875}},{"color":{"red":46,"green":51,"blue":19,"alpha":255},"column":1667,"bounds":null,"row":310,"value":3027731,"centerPoint":{"x":113.115234375,"y":35.419921875}},{"color":{"red":44,"green":51,"blue":18,"alpha":255},"column":1668,"bounds":null,"row":310,"value":2896658,"centerPoint":{"x":113.291015625,"y":35.419921875}}],[{"color":{"red":39,"green":51,"blue":13,"alpha":255},"column":1663,"bounds":null,"row":311,"value":2568973,"centerPoint":{"x":112.412109375,"y":35.244140625}},{"color":{"red":43,"green":48,"blue":16,"alpha":255},"column":1664,"bounds":null,"row":311,"value":2830352,"centerPoint":{"x":112.587890625,"y":35.244140625}},{"color":{"red":45,"green":50,"blue":18,"alpha":255},"column":1665,"bounds":null,"row":311,"value":2961938,"centerPoint":{"x":112.763671875,"y":35.244140625}},{"color":{"red":52,"green":57,"blue":25,"alpha":255},"column":1666,"bounds":null,"row":311,"value":3422489,"centerPoint":{"x":112.939453125,"y":35.244140625}},{"color":{"red":64,"green":69,"blue":37,"alpha":255},"column":1667,"bounds":null,"row":311,"value":4212005,"centerPoint":{"x":113.115234375,"y":35.244140625}},{"color":{"red":74,"green":79,"blue":47,"alpha":255},"column":1668,"bounds":null,"row":311,"value":4869935,"centerPoint":{"x":113.291015625,"y":35.244140625}}],[{"color":{"red":43,"green":55,"blue":19,"alpha":255},"column":1663,"bounds":null,"row":312,"value":2832147,"centerPoint":{"x":112.412109375,"y":35.068359375}},{"color":{"red":64,"green":68,"blue":35,"alpha":255},"column":1664,"bounds":null,"row":312,"value":4211747,"centerPoint":{"x":112.587890625,"y":35.068359375}},{"color":{"red":69,"green":73,"blue":40,"alpha":255},"column":1665,"bounds":null,"row":312,"value":4540712,"centerPoint":{"x":112.763671875,"y":35.068359375}},{"color":{"red":74,"green":78,"blue":45,"alpha":255},"column":1666,"bounds":null,"row":312,"value":4869677,"centerPoint":{"x":112.939453125,"y":35.068359375}},{"color":{"red":75,"green":81,"blue":47,"alpha":255},"column":1667,"bounds":null,"row":312,"value":4935983,"centerPoint":{"x":113.115234375,"y":35.068359375}},{"color":{"red":77,"green":83,"blue":49,"alpha":255},"column":1668,"bounds":null,"row":312,"value":5067569,"centerPoint":{"x":113.291015625,"y":35.068359375}}],[{"color":{"red":59,"green":71,"blue":35,"alpha":255},"column":1663,"bounds":null,"row":313,"value":3884835,"centerPoint":{"x":112.412109375,"y":34.892578125}},{"color":{"red":70,"green":74,"blue":41,"alpha":255},"column":1664,"bounds":null,"row":313,"value":4606505,"centerPoint":{"x":112.587890625,"y":34.892578125}},{"color":{"red":75,"green":79,"blue":46,"alpha":255},"column":1665,"bounds":null,"row":313,"value":4935470,"centerPoint":{"x":112.763671875,"y":34.892578125}},{"color":{"red":77,"green":81,"blue":48,"alpha":255},"column":1666,"bounds":null,"row":313,"value":5067056,"centerPoint":{"x":112.939453125,"y":34.892578125}},{"color":{"red":75,"green":79,"blue":46,"alpha":255},"column":1667,"bounds":null,"row":313,"value":4935470,"centerPoint":{"x":113.115234375,"y":34.892578125}},{"color":{"red":72,"green":78,"blue":44,"alpha":255},"column":1668,"bounds":null,"row":313,"value":4738604,"centerPoint":{"x":113.291015625,"y":34.892578125}}],[{"color":{"red":74,"green":84,"blue":50,"alpha":255},"column":1663,"bounds":null,"row":314,"value":4871218,"centerPoint":{"x":112.412109375,"y":34.716796875}},{"color":{"red":73,"green":77,"blue":42,"alpha":255},"column":1664,"bounds":null,"row":314,"value":4803882,"centerPoint":{"x":112.587890625,"y":34.716796875}},{"color":{"red":76,"green":80,"blue":45,"alpha":255},"column":1665,"bounds":null,"row":314,"value":5001261,"centerPoint":{"x":112.763671875,"y":34.716796875}},{"color":{"red":73,"green":77,"blue":42,"alpha":255},"column":1666,"bounds":null,"row":314,"value":4803882,"centerPoint":{"x":112.939453125,"y":34.716796875}},{"color":{"red":65,"green":69,"blue":34,"alpha":255},"column":1667,"bounds":null,"row":314,"value":4277538,"centerPoint":{"x":113.115234375,"y":34.716796875}},{"color":{"red":62,"green":66,"blue":31,"alpha":255},"column":1668,"bounds":null,"row":314,"value":4080159,"centerPoint":{"x":113.291015625,"y":34.716796875}}]],"rowCount":6,"columnCount":6}]}'
        bounds = DefaultValuesItem()
        bounds.circle = Circle()
        bounds.circle.centerPoint = Point2D()
        bounds.circle.centerPoint.x = 108.012838
        bounds.circle.centerPoint.y = 33.594138
        bounds.circle.radius = 1
        bounds2 = DefaultValuesItem()
        bounds2.circle = Circle()
        bounds2.circle.centerPoint = Point2D()
        bounds2.circle.centerPoint.x = 112.351881
        bounds2.circle.centerPoint.y = 35.673401
        bounds2.circle.radius = 1
        entity = [bounds2, bounds]
        self.check_api('post_imagevalues',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/imageValues.json",
                       HttpMethod.POST, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T', entity=entity)
        jsonstr = '{"color":{"red":74,"green":84,"blue":50,"alpha":255},"column":1663,"bounds":null,"row":314,"value":4871218,"centerPoint":{"x":112.361881,"y":34.673401}}'
        self.check_api('get_imagevalue',
                       self.baseuri + "/services/data-World/rest/data/datasources/World/datasets/continent_T/imageValue.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), datasourceName='World',
                       datasetName='continent_T', x=112.361881, y=34.673401)
        jsonstr = '[{"resourceConfigID":null,"supportedMediaTypes":["application/xml","text/xml","application/json","application/fastjson","application/rjson","text/html","application/jsonp","application/x-java-serialized-object","application/geojson"],"path":"http://192.168.20.182:8090/iserver/services/data-World/rest/data/featureResults/8b9abf652a7442dab6e4b4877a09a906_8de35e1b2fe64fbfbbf6647a6caaaebb.json","name":"8b9abf652a7442dab6e4b4877a09a906_8de35e1b2fe64fbfbbf6647a6caaaebb","resourceType":"ArithResultResource"},{"resourceConfigID":null,"supportedMediaTypes":["application/xml","text/xml","application/json","application/fastjson","application/rjson","text/html","application/jsonp","application/x-java-serialized-object","application/geojson"],"path":"http://192.168.20.182:8090/iserver/services/data-World/rest/data/featureResults/8b9abf652a7442dab6e4b4877a09a906_3a3ea69440194352b4df976cb1aa40f6.json","name":"8b9abf652a7442dab6e4b4877a09a906_3a3ea69440194352b4df976cb1aa40f6","resourceType":"ArithResultResource"}]'
        self.check_api('get_featureResults', self.baseuri + "/services/data-World/rest/data/featureResults.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr))
        jsonstr = '{"postResultType":"CreateChild","newResourceID":"8b9abf652a7442dab6e4b4877a09a906_2a07c9dca97e4742898cfc6068b3f130","succeed":true,"newResourceLocation":"http://192.168.20.182:8090/iserver/services/data-World/rest/data/featureResults/8b9abf652a7442dab6e4b4877a09a906_2a07c9dca97e4742898cfc6068b3f130.json"}'
        entity = PostFeatureResultsItem()
        entity.getFeatureMode = GetFeatureMode.ID
        entity.datasetNames = ["World:Capitals"]
        entity.ids = ["1", "2", "3"]
        self.check_api('post_featureResults', self.baseuri + "/services/data-World/rest/data/featureResults.json",
                       HttpMethod.POST, httpretty.Response(status=200, body=jsonstr), entity=entity)
        jsonstr = '{"features":[],"featureUriList":["http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/name/World/datasets/name/Capitals/features/2","http://192.168.20.182:8090/iserver/services/data-World/rest/data/datasources/name/World/datasets/name/Capitals/features/3"],"totalCount":2,"featureCount":2}'
        self.check_api('get_featureResult', self.baseuri + "/services/data-World/rest/data/featureResults/123.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), featureResultId='123')
        jsonstr = '{"postResultType":"CreateChild","newResourceID":"8b9abf652a7442dab6e4b4877a09a906_89ad051daecc4b38ba0fb2ae26b0dabb","succeed":true,"newResourceLocation":"http://192.168.20.182:8090/iserver/services/data-World/rest/data/coordtransfer/8b9abf652a7442dab6e4b4877a09a906_89ad051daecc4b38ba0fb2ae26b0dabb.json"}'
        entity = PostCoordtransferItem()
        p1 = Point2D()
        p1.x = 113.98533886568
        p1.y = 4.39179640504
        p2 = Point2D()
        p2.x = 112.98533886568
        p2.y = 3.39179640504
        entity.sourcePoints = [p1, p2]
        entity.sourceEpsgCode = 4326
        entity.targetEpsgCode = 3857
        self.check_api('post_coordtransfer', self.baseuri + "/services/data-World/rest/data/coordtransfer.json",
                       HttpMethod.POST, httpretty.Response(status=200, body=jsonstr), entity=entity)
        jsonstr = '[{"center":{"x":1.2688789880426234E7,"y":489371.98562014726},"parts":[1],"style":null,"prjCoordSys":null,"id":0,"type":"POINT","partTopo":null,"points":[{"x":1.2688789880426234E7,"y":489371.98562014726}]},{"center":{"x":1.257747038963296E7,"y":377793.7702294255},"parts":[1],"style":null,"prjCoordSys":null,"id":0,"type":"POINT","partTopo":null,"points":[{"x":1.257747038963296E7,"y":377793.7702294255}]}]'
        self.check_api('get_coordtransfer', self.baseuri + "/services/data-World/rest/data/coordtransfer/123.json",
                       HttpMethod.GET, httpretty.Response(status=200, body=jsonstr), coordtransferResult='123')
